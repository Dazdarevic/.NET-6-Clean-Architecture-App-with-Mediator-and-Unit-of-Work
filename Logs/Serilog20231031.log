[2023-10-31 14-55-35.893 -07:00 [INF] User profile is available. Using 'C:\Users\Belkisa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
][2023-10-31 14-55-36.280 -07:00 [INF] Application started. Press Ctrl+C to shut down.
][2023-10-31 14-55-36.291 -07:00 [INF] Hosting environment: Development
][2023-10-31 14-55-36.302 -07:00 [INF] Content root path: C:\Users\Belkisa\source\repos\Napredne baze podataka API\
][2023-10-31 14-55-36.346 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/index.html - -
][2023-10-31 14-55-37.837 -07:00 [INF] Request GET /swagger/index.html completed in 1296 ms
][2023-10-31 14-55-37.838 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - -
][2023-10-31 14-55-38.135 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_vs/browserLink - -
][2023-10-31 14-55-38.354 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - - - 200 12022 application/javascript;+charset=utf-8 495.4683ms
][2023-10-31 14-55-38.507 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 14-55-38.637 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 501.3720ms
][2023-10-31 14-55-38.675 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 14-55-38.686 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 14-55-38.753 -07:00 [ERR] Connection ID "18086456118015426566", Request ID "80000007-0003-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithFilterAsync(IHttpSocketAdapter injectScriptSocket, String requestId, HttpContext httpContext)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 14-55-38.760 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/index.html - - - 200 - text/html;charset=utf-8 2426.8982ms
][2023-10-31 14-55-38.852 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - -
][2023-10-31 14-55-39.360 -07:00 [INF] Request GET /swagger/v1/swagger.json completed in 499 ms
][2023-10-31 14-55-39.501 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 14-55-39.555 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 14-55-39.560 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 14-55-39.568 -07:00 [ERR] Connection ID "18086456118015426566", Request ID "80000008-0003-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 14-55-39.573 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 721.2862ms
][2023-10-31 14-56-14.015 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72
][2023-10-31 14-56-14.021 -07:00 [INF] CORS policy execution successful.
][2023-10-31 14-56-14.342 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 14-56-14.495 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 14-56-24.293 -07:00 [INF] Executed DbCommand (305ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 14-56-24.832 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 14-56-24.920 -07:00 [INF] Executed DbCommand (58ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 14-56-25.032 -07:00 [INF] Executed DbCommand (85ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 14-56-25.101 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 14-56-25.166 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 14-56-25.250 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 14-56-25.923 -07:00 [INF] Executed DbCommand (146ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Administrators] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 14-56-26.597 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 14-56-26.683 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 12164.4242ms
][2023-10-31 14-56-26.688 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 14-56-26.700 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 12671 ms
][2023-10-31 14-56-28.284 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 14-56-28.588 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 14-56-28.596 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 14-56-28.606 -07:00 [ERR] Connection ID "18086456118015426566", Request ID "80000009-0003-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 14-56-28.670 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72 - 200 - application/json;+charset=utf-8 14687.8672ms
][2023-10-31 15-38-42.919 -07:00 [INF] User profile is available. Using 'C:\Users\Belkisa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
][2023-10-31 15-38-43.812 -07:00 [INF] Application started. Press Ctrl+C to shut down.
][2023-10-31 15-38-43.822 -07:00 [INF] Hosting environment: Development
][2023-10-31 15-38-43.828 -07:00 [INF] Content root path: C:\Users\Belkisa\source\repos\Napredne baze podataka API\
][2023-10-31 15-38-43.906 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/index.html - -
][2023-10-31 15-38-45.488 -07:00 [INF] Request GET /swagger/index.html completed in 1388 ms
][2023-10-31 15-38-45.734 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - -
][2023-10-31 15-38-45.734 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_vs/browserLink - -
][2023-10-31 15-38-45.987 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - - - 200 12022 application/javascript;+charset=utf-8 229.0910ms
][2023-10-31 15-38-46.164 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 430.4959ms
][2023-10-31 15-38-46.173 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 15-38-46.383 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 15-38-46.389 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 15-38-46.443 -07:00 [ERR] Connection ID "18230571297501347864", Request ID "80000019-0001-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithFilterAsync(IHttpSocketAdapter injectScriptSocket, String requestId, HttpContext httpContext)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 15-38-46.452 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/index.html - - - 200 - text/html;charset=utf-8 2571.5663ms
][2023-10-31 15-38-46.557 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - -
][2023-10-31 15-38-47.038 -07:00 [INF] Request GET /swagger/v1/swagger.json completed in 475 ms
][2023-10-31 15-38-47.212 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 15-38-47.270 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 15-38-47.277 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 15-38-47.286 -07:00 [ERR] Connection ID "18230571297501347864", Request ID "8000001a-0001-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 15-38-47.292 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 734.7753ms
][2023-10-31 15-48-22.146 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72
][2023-10-31 15-48-22.157 -07:00 [INF] CORS policy execution successful.
][2023-10-31 15-48-22.519 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 15-48-22.680 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 15-48-31.707 -07:00 [INF] Executed DbCommand (427ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 15-48-32.306 -07:00 [INF] Executed DbCommand (55ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 15-48-32.397 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 15-48-32.470 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 15-48-32.595 -07:00 [INF] Executed DbCommand (49ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 15-48-32.752 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 15-48-32.921 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 15-48-33.708 -07:00 [INF] Executed DbCommand (160ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Administrators] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 15-48-34.278 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 15-48-34.372 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 11669.0592ms
][2023-10-31 15-48-34.376 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 15-48-34.386 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 12221 ms
][2023-10-31 15-48-35.023 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 15-48-35.312 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 15-48-35.319 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 15-48-35.330 -07:00 [ERR] Connection ID "18014398523977498634", Request ID "8000000b-0003-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 15-48-35.406 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72 - 200 - application/json;+charset=utf-8 13262.6843ms
][2023-10-31 16-28-23.395 -07:00 [INF] User profile is available. Using 'C:\Users\Belkisa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
][2023-10-31 16-28-23.972 -07:00 [INF] Application started. Press Ctrl+C to shut down.
][2023-10-31 16-28-23.978 -07:00 [INF] Hosting environment: Development
][2023-10-31 16-28-23.982 -07:00 [INF] Content root path: C:\Users\Belkisa\source\repos\Napredne baze podataka API\
][2023-10-31 16-28-24.013 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/index.html - -
][2023-10-31 16-28-24.951 -07:00 [INF] Request GET /swagger/index.html completed in 822 ms
][2023-10-31 16-28-24.961 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - -
][2023-10-31 16-28-25.050 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_vs/browserLink - -
][2023-10-31 16-28-25.185 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - - - 200 12022 application/javascript;+charset=utf-8 217.7271ms
][2023-10-31 16-28-25.284 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-28-25.358 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 373.2861ms
][2023-10-31 16-28-25.380 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-28-25.385 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-28-25.419 -07:00 [ERR] Connection ID "18158513712053354508", Request ID "8000000d-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithFilterAsync(IHttpSocketAdapter injectScriptSocket, String requestId, HttpContext httpContext)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-28-25.423 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/index.html - - - 200 - text/html;charset=utf-8 1419.7469ms
][2023-10-31 16-28-25.477 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - -
][2023-10-31 16-28-25.803 -07:00 [INF] Request GET /swagger/v1/swagger.json completed in 323 ms
][2023-10-31 16-28-25.884 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-28-25.924 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-28-25.928 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-28-25.935 -07:00 [ERR] Connection ID "18158513712053354508", Request ID "8000000e-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-28-25.941 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 463.4025ms
][2023-10-31 16-29-02.548 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72
][2023-10-31 16-29-02.556 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-29-02.722 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-29-02.784 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 16-29-06.246 -07:00 [INF] Executed DbCommand (171ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 16-29-06.511 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-29-06.582 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-29-06.639 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 16-29-06.705 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-29-06.779 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-29-06.834 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 16-29-07.113 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Administrators] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 16-29-07.471 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 4680.2558ms
][2023-10-31 16-29-07.474 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-29-07.665 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 5104 ms
][2023-10-31 16-29-07.962 -07:00 [ERR] Value cannot be null. (Parameter 'value')
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Napredne_baze_podataka_API.Data.Repo.LoginRepository.PostLoginDetails(UserData _userData) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\LoginRepository.cs:line 95
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Login_Handlers.PostLoginDetailsHandler.Handle(PostLoginDetailsCommand request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Login Handlers\PostLoginDetailsHandler.cs:line 22
   at Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails(UserData userData) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\LoginController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-29-08.224 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72 - 500 - application/json 5675.5113ms
][2023-10-31 16-29-56.514 -07:00 [INF] User profile is available. Using 'C:\Users\Belkisa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
][2023-10-31 16-29-56.728 -07:00 [INF] Application started. Press Ctrl+C to shut down.
][2023-10-31 16-29-56.733 -07:00 [INF] Hosting environment: Development
][2023-10-31 16-29-56.736 -07:00 [INF] Content root path: C:\Users\Belkisa\source\repos\Napredne baze podataka API\
][2023-10-31 16-29-56.755 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/index.html - -
][2023-10-31 16-29-57.460 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - -
][2023-10-31 16-29-57.470 -07:00 [INF] Request GET /swagger/index.html completed in 620 ms
][2023-10-31 16-29-57.475 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_vs/browserLink - -
][2023-10-31 16-29-57.683 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - - - 200 12022 application/javascript;+charset=utf-8 215.3958ms
][2023-10-31 16-29-57.770 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-29-57.776 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 300.9350ms
][2023-10-31 16-29-57.880 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-29-57.883 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-29-57.911 -07:00 [ERR] Connection ID "18086456109425491972", Request ID "80000005-0001-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithFilterAsync(IHttpSocketAdapter injectScriptSocket, String requestId, HttpContext httpContext)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-29-57.916 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/index.html - - - 200 - text/html;charset=utf-8 1168.4855ms
][2023-10-31 16-29-57.950 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - -
][2023-10-31 16-29-58.220 -07:00 [INF] Request GET /swagger/v1/swagger.json completed in 267 ms
][2023-10-31 16-29-58.325 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-29-58.359 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-29-58.362 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-29-58.378 -07:00 [ERR] Connection ID "18086456109425491972", Request ID "80000006-0001-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-29-58.381 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 430.7664ms
][2023-10-31 16-30-34.900 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72
][2023-10-31 16-30-34.914 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-30-35.068 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-30-35.122 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 16-30-38.475 -07:00 [INF] Executed DbCommand (138ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 16-30-38.715 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-30-38.772 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-30-38.830 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 16-30-38.892 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-30-38.950 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-30-39.008 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 16-30-39.298 -07:00 [INF] Executed DbCommand (77ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Administrators] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 16-30-39.547 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 16-30-39.577 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 4446.8098ms
][2023-10-31 16-30-39.578 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-30-39.583 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 4664 ms
][2023-10-31 16-30-39.862 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-30-39.991 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-30-39.994 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-30-39.999 -07:00 [ERR] Connection ID "18086456109425491972", Request ID "80000007-0001-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-30-40.025 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 72 - 200 - application/json;+charset=utf-8 5124.9428ms
][2023-10-31 16-32-28.632 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0
][2023-10-31 16-32-28.670 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-28.674 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0 - 204 - - 42.2710ms
][2023-10-31 16-32-28.683 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 98
][2023-10-31 16-32-28.683 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-28.691 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-32-28.695 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 16-32-28.751 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 16-32-28.798 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-32-28.846 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-32-28.895 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 16-32-28.947 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-32-28.995 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-32-29.045 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 16-32-29.098 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Administrators] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 16-32-29.101 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 16-32-29.102 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 406.5193ms
][2023-10-31 16-32-29.102 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-32-29.109 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 419 ms
][2023-10-31 16-32-29.341 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-32-29.456 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-32-29.459 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-32-29.464 -07:00 [ERR] Connection ID "18086456105130524676", Request ID "80000005-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-32-29.465 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 98 - 200 - application/json;+charset=utf-8 781.6611ms
][2023-10-31 16-32-52.870 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/admins?currentAdminId=1 - 0
][2023-10-31 16-32-52.870 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-52.875 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/admins?currentAdminId=1 - 0 - 204 - - 5.2178ms
][2023-10-31 16-32-52.891 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/admins?currentAdminId=1 - -
][2023-10-31 16-32-52.891 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-53.019 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API)'
][2023-10-31 16-32-53.023 -07:00 [INF] Route matched with {action = "GetAdmins", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAdminsAsync(Int32) on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-32-53.264 -07:00 [INF] | Log || Testing
][2023-10-31 16-32-53.413 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__currentAdminId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[ID] <> @__currentAdminId_0
][2023-10-31 16-32-53.460 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.AdminDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-32-53.462 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API) in 439.3217ms
][2023-10-31 16-32-53.463 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API)'
][2023-10-31 16-32-53.466 -07:00 [INF] Request GET /api/Administrator/admins completed in 573 ms
][2023-10-31 16-32-53.669 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-32-53.781 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-32-53.784 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-32-53.789 -07:00 [ERR] Connection ID "18086456113720459296", Request ID "80000021-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-32-53.790 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/admins?currentAdminId=1 - - - 200 - application/json;+charset=utf-8 898.8396ms
][2023-10-31 16-32-54.961 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/receptionists - 0
][2023-10-31 16-32-54.961 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-54.962 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/receptionists - 0 - 204 - - 1.0617ms
][2023-10-31 16-32-54.967 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - -
][2023-10-31 16-32-54.967 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-54.969 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-32-54.972 -07:00 [INF] Route matched with {action = "GetReceptionists", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReceptionistsAsync() on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-32-55.064 -07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
][2023-10-31 16-32-55.101 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.ReceptionistDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-32-55.103 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API) in 130.7215ms
][2023-10-31 16-32-55.103 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-32-55.106 -07:00 [INF] Request GET /api/Administrator/receptionists completed in 135 ms
][2023-10-31 16-32-55.314 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-32-55.415 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-32-55.418 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-32-55.423 -07:00 [ERR] Connection ID "18086456105130524680", Request ID "80000009-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-32-55.424 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - - - 200 - application/json;+charset=utf-8 457.0130ms
][2023-10-31 16-32-58.379 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/managers - 0
][2023-10-31 16-32-58.379 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-58.380 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/managers - 0 - 204 - - 0.4238ms
][2023-10-31 16-32-58.385 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/managers - -
][2023-10-31 16-32-58.385 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-32-58.386 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetManagersAsync (Napredne baze podataka API)'
][2023-10-31 16-32-58.390 -07:00 [INF] Route matched with {action = "GetManagers", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetManagersAsync() on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-32-58.457 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
][2023-10-31 16-32-58.504 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.ManagerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-32-58.507 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetManagersAsync (Napredne baze podataka API) in 116.7799ms
][2023-10-31 16-32-58.507 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetManagersAsync (Napredne baze podataka API)'
][2023-10-31 16-32-58.510 -07:00 [INF] Request GET /api/Administrator/managers completed in 121 ms
][2023-10-31 16-32-58.709 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-32-58.815 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-32-58.818 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-32-58.823 -07:00 [ERR] Connection ID "18086456105130524684", Request ID "8000000d-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-32-58.824 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/managers - - - 200 - application/json;+charset=utf-8 438.7136ms
][2023-10-31 16-33-04.260 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/receptionists - 0
][2023-10-31 16-33-04.260 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-04.262 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/receptionists - 0 - 204 - - 1.2583ms
][2023-10-31 16-33-04.266 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - -
][2023-10-31 16-33-04.266 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-04.266 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-04.266 -07:00 [INF] Route matched with {action = "GetReceptionists", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReceptionistsAsync() on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-33-04.320 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
][2023-10-31 16-33-04.321 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.ReceptionistDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-33-04.331 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API) in 64.1131ms
][2023-10-31 16-33-04.331 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-04.336 -07:00 [INF] Request GET /api/Administrator/receptionists completed in 64 ms
][2023-10-31 16-33-04.544 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-33-04.640 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-33-04.643 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-33-04.648 -07:00 [ERR] Connection ID "18086456105130524686", Request ID "8000000f-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-33-04.649 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - - - 200 - application/json;+charset=utf-8 382.7484ms
][2023-10-31 16-33-05.862 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/admins?currentAdminId=1 - 0
][2023-10-31 16-33-05.862 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-05.862 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/admins?currentAdminId=1 - 0 - 204 - - 0.3520ms
][2023-10-31 16-33-05.867 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/admins?currentAdminId=1 - -
][2023-10-31 16-33-05.867 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-05.867 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-05.867 -07:00 [INF] Route matched with {action = "GetAdmins", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAdminsAsync(Int32) on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-33-05.869 -07:00 [INF] | Log || Testing
][2023-10-31 16-33-05.914 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__currentAdminId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[ID] <> @__currentAdminId_0
][2023-10-31 16-33-05.914 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.AdminDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-33-05.915 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API) in 47.7363ms
][2023-10-31 16-33-05.915 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-05.918 -07:00 [INF] Request GET /api/Administrator/admins completed in 48 ms
][2023-10-31 16-33-06.137 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-33-06.254 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-33-06.256 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-33-06.262 -07:00 [ERR] Connection ID "18086456105130524688", Request ID "80000011-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-33-06.263 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/admins?currentAdminId=1 - - - 200 - application/json;+charset=utf-8 396.0487ms
][2023-10-31 16-33-11.030 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/receptionists - 0
][2023-10-31 16-33-11.031 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-11.031 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/receptionists - 0 - 204 - - 0.6717ms
][2023-10-31 16-33-11.035 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - -
][2023-10-31 16-33-11.035 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-11.035 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-11.036 -07:00 [INF] Route matched with {action = "GetReceptionists", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReceptionistsAsync() on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-33-11.098 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
][2023-10-31 16-33-11.099 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.ReceptionistDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-33-11.101 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API) in 65.1481ms
][2023-10-31 16-33-11.101 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-11.139 -07:00 [INF] Request GET /api/Administrator/receptionists completed in 65 ms
][2023-10-31 16-33-11.372 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-33-11.497 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-33-11.501 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-33-11.506 -07:00 [ERR] Connection ID "18086456105130524690", Request ID "80000013-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-33-11.506 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - - - 200 - application/json;+charset=utf-8 471.2913ms
][2023-10-31 16-33-12.711 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/managers - 0
][2023-10-31 16-33-12.711 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-12.716 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/managers - 0 - 204 - - 5.0987ms
][2023-10-31 16-33-12.721 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/managers - -
][2023-10-31 16-33-12.721 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-12.721 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetManagersAsync (Napredne baze podataka API)'
][2023-10-31 16-33-12.721 -07:00 [INF] Route matched with {action = "GetManagers", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetManagersAsync() on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-33-12.767 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
][2023-10-31 16-33-12.768 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.ManagerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-33-12.769 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetManagersAsync (Napredne baze podataka API) in 47.6529ms
][2023-10-31 16-33-12.769 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetManagersAsync (Napredne baze podataka API)'
][2023-10-31 16-33-12.773 -07:00 [INF] Request GET /api/Administrator/managers completed in 48 ms
][2023-10-31 16-33-13.004 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-33-13.111 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-33-13.114 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-33-13.119 -07:00 [ERR] Connection ID "18086456105130524692", Request ID "80000015-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-33-13.120 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/managers - - - 200 - application/json;+charset=utf-8 399.0874ms
][2023-10-31 16-33-13.595 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - -
][2023-10-31 16-33-13.595 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-13.595 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-13.595 -07:00 [INF] Route matched with {action = "GetReceptionists", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReceptionistsAsync() on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-33-13.683 -07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
][2023-10-31 16-33-13.683 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.ReceptionistDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-33-13.684 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API) in 88.4047ms
][2023-10-31 16-33-13.684 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetReceptionistsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-13.688 -07:00 [INF] Request GET /api/Administrator/receptionists completed in 89 ms
][2023-10-31 16-33-13.941 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-33-14.050 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-33-14.054 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-33-14.059 -07:00 [ERR] Connection ID "18086456105130524694", Request ID "80000017-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-33-14.060 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/receptionists - - - 200 - application/json;+charset=utf-8 464.9273ms
][2023-10-31 16-33-14.767 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/admins?currentAdminId=1 - 0
][2023-10-31 16-33-14.767 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-14.767 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Administrator/admins?currentAdminId=1 - 0 - 204 - - 0.2601ms
][2023-10-31 16-33-14.772 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Administrator/admins?currentAdminId=1 - -
][2023-10-31 16-33-14.772 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-14.772 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-14.773 -07:00 [INF] Route matched with {action = "GetAdmins", controller = "Administrator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAdminsAsync(Int32) on controller Napredne_baze_podataka_API.Controllers.AdministratorController (Napredne baze podataka API).
][2023-10-31 16-33-14.776 -07:00 [INF] | Log || Testing
][2023-10-31 16-33-14.820 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__currentAdminId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[ID] <> @__currentAdminId_0
][2023-10-31 16-33-14.821 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.AdminDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-33-14.822 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API) in 49.4401ms
][2023-10-31 16-33-14.822 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.AdministratorController.GetAdminsAsync (Napredne baze podataka API)'
][2023-10-31 16-33-14.826 -07:00 [INF] Request GET /api/Administrator/admins completed in 50 ms
][2023-10-31 16-33-15.059 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-33-15.173 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-33-15.176 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-33-15.182 -07:00 [ERR] Connection ID "18158513712053354520", Request ID "80000019-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-33-15.182 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Administrator/admins?currentAdminId=1 - - - 200 - application/json;+charset=utf-8 410.8584ms
][2023-10-31 16-33-30.500 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0
][2023-10-31 16-33-30.501 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-30.501 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0 - 204 - - 0.6758ms
][2023-10-31 16-33-30.511 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 98
][2023-10-31 16-33-30.511 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-33-30.512 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-33-30.512 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 16-33-30.560 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 16-33-30.617 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-33-30.667 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-33-30.718 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 16-33-30.775 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-33-30.825 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-33-30.877 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 16-33-30.932 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Administrators] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 16-33-30.935 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 16-33-30.937 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 425.2378ms
][2023-10-31 16-33-30.937 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-33-30.953 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 426 ms
][2023-10-31 16-33-31.194 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-33-31.309 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-33-31.313 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-33-31.318 -07:00 [ERR] Connection ID "18158513712053354522", Request ID "8000001b-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-33-31.319 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 98 - 200 - application/json;+charset=utf-8 807.5691ms
][2023-10-31 16-38-13.992 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0
][2023-10-31 16-38-13.992 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-38-13.993 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0 - 204 - - 0.8363ms
][2023-10-31 16-38-14.001 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 83
][2023-10-31 16-38-14.002 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-38-14.002 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-38-14.002 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 16-38-14.284 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 16-38-14.332 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-38-14.383 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-38-14.445 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 16-38-14.511 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-38-14.558 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-38-14.613 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 16-38-14.857 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 855.2786ms
][2023-10-31 16-38-14.858 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-38-14.889 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 885 ms
][2023-10-31 16-38-14.956 -07:00 [ERR] The method or operation is not implemented.
System.NotImplementedException: The method or operation is not implemented.
   at Napredne_baze_podataka_API.Data.Repo.LoginRepository.BadRequest(String v) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\LoginRepository.cs:line 138
   at Napredne_baze_podataka_API.Data.Repo.LoginRepository.PostLoginDetails(UserData _userData) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\LoginRepository.cs:line 86
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Login_Handlers.PostLoginDetailsHandler.Handle(PostLoginDetailsCommand request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Login Handlers\PostLoginDetailsHandler.cs:line 22
   at Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails(UserData userData) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\LoginController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-38-15.088 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 83 - 500 - application/json 1086.6064ms
][2023-10-31 16-39-01.788 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Trainer/members - 0
][2023-10-31 16-39-01.788 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-01.789 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Trainer/members - 0 - 204 - - 2.7157ms
][2023-10-31 16-39-01.794 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Trainer/members - -
][2023-10-31 16-39-01.794 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-01.795 -07:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
][2023-10-31 16-39-01.803 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 16-39-01.813 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 16-39-01.815 -07:00 [INF] Request GET /api/Trainer/members completed in 18 ms
][2023-10-31 16-39-01.819 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Trainer/members - - - 401 - application/json 24.6610ms
][2023-10-31 16-39-14.411 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0
][2023-10-31 16-39-14.411 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-14.411 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0 - 204 - - 0.5159ms
][2023-10-31 16-39-14.418 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88
][2023-10-31 16-39-14.418 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-14.418 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-39-14.418 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 16-39-14.485 -07:00 [INF] Executed DbCommand (59ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 16-39-14.530 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-39-14.576 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-39-14.681 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 16-39-14.725 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-39-14.776 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-39-14.826 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 16-39-14.906 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Members] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 16-39-14.909 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 16-39-14.909 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 491.1338ms
][2023-10-31 16-39-14.910 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-39-14.912 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 491 ms
][2023-10-31 16-39-15.171 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-15.275 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-39-15.279 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-39-15.283 -07:00 [ERR] Connection ID "18158513712053354526", Request ID "8000001f-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-39-15.284 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88 - 200 - application/json;+charset=utf-8 866.2830ms
][2023-10-31 16-39-15.325 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 16-39-15.325 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.329 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 3.6302ms
][2023-10-31 16-39-15.334 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 16-39-15.334 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.335 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.9960ms
][2023-10-31 16-39-15.339 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 16-39-15.340 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.346 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 16-39-15.347 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 16-39-15.352 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.357 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-39-15.358 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-39-15.373 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 16-39-15.373 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.382 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 3.1287ms
][2023-10-31 16-39-15.383 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 16-39-15.383 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.386 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 3.0975ms
][2023-10-31 16-39-15.387 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-39-15.390 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 16-39-15.390 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.393 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 16-39-15.396 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-39-15.419 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 16-39-15.419 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.420 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-39-15.428 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 16-39-15.455 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 16-39-15.530 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-39-15.537 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 150.2359ms
][2023-10-31 16-39-15.537 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-39-15.549 -07:00 [INF] Request GET /api/Member/trainers completed in 185 ms
][2023-10-31 16-39-15.847 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-15.956 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-39-15.960 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-39-15.964 -07:00 [ERR] Connection ID "18230571297501347870", Request ID "8000001f-0001-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-39-15.965 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 617.8546ms
][2023-10-31 16-39-15.976 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 16-39-15.977 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.977 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.3346ms
][2023-10-31 16-39-15.982 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 16-39-15.982 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.982 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3448ms
][2023-10-31 16-39-15.984 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 16-39-15.984 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-15.984 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-39-15.988 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-39-16.002 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 16-39-16.004 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 16-39-16.007 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 16-39-16.008 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 16-39-16.009 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 16-39-16.010 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 652.2891ms
][2023-10-31 16-39-16.010 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 16-39-16.015 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 670 ms
][2023-10-31 16-39-16.394 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 997.7326ms
][2023-10-31 16-39-16.394 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 16-39-16.399 -07:00 [INF] Request GET /api/Member/member/1 completed in 1004 ms
][2023-10-31 16-39-16.496 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-16.713 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-39-16.713 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-16.716 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-39-16.833 -07:00 [ERR] Connection ID "18086456109425491988", Request ID "80000015-0001-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-39-16.834 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-39-16.834 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-39-16.834 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1494.7527ms
][2023-10-31 16-39-16.838 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-39-16.855 -07:00 [ERR] Connection ID "18158513703463419933", Request ID "8000001e-0001-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-39-16.856 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1465.7473ms
][2023-10-31 16-39-16.859 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 1430.5304ms
][2023-10-31 16-39-16.859 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-39-16.884 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 16-39-16.884 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-16.886 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 1.9246ms
][2023-10-31 16-39-16.886 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 16-39-16.886 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-16.888 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.7036ms
][2023-10-31 16-39-16.906 -07:00 [INF] Request GET /api/Manager/trainers completed in 1439 ms
][2023-10-31 16-39-16.907 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 16-39-16.907 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-16.909 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 16-39-16.910 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-16.984 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 16-39-16.984 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 16-39-17.056 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 16-39-17.137 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-39-17.138 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-39-17.278 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-17.394 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-39-17.398 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-39-17.406 -07:00 [ERR] Connection ID "18086456113720459302", Request ID "80000027-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-39-17.407 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1987.9631ms
][2023-10-31 16-39-17.435 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 16-39-17.436 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 16-39-17.436 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method696(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method696(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 16-39-17.437 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 298.5954ms
][2023-10-31 16-39-17.438 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 16-39-17.443 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 530 ms
][2023-10-31 16-39-17.444 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 16-39-17.565 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 16-39-17.566 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 428.898ms
][2023-10-31 16-39-17.566 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 16-39-17.612 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 656 ms
][2023-10-31 16-39-17.921 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-17.962 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-18.203 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-39-18.203 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 2215.2379ms
][2023-10-31 16-39-18.203 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-39-18.208 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-39-18.210 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-39-18.210 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-39-18.312 -07:00 [ERR] Connection ID "18086456105130524706", Request ID "80000023-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-39-18.313 -07:00 [ERR] Connection ID "18014398511092596748", Request ID "8000000d-0000-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-39-18.315 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 2325 ms
][2023-10-31 16-39-18.317 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1409.7298ms
][2023-10-31 16-39-18.316 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1406.3404ms
][2023-10-31 16-39-18.541 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method696(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-18.542 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 2558.6109ms
][2023-10-31 16-39-18.547 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 16-39-18.547 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-18.550 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-39-18.550 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-39-18.593 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 16-39-18.602 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method696(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method696(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 16-39-18.798 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 248.0005ms
][2023-10-31 16-39-18.798 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-39-18.916 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 365 ms
][2023-10-31 16-39-19.171 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method696(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-39-19.172 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 625.4637ms
][2023-10-31 16-39-42.658 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0
][2023-10-31 16-39-42.658 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-42.658 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0 - 204 - - 0.8879ms
][2023-10-31 16-39-42.669 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52
][2023-10-31 16-39-42.669 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-42.672 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 16-39-42.672 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 16-39-42.676 -07:00 [INF] Request POST /api/Member/1/rate-trainer/1/3 completed in 3 ms
][2023-10-31 16-39-42.677 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52 - 401 - application/json 7.6389ms
][2023-10-31 16-39-58.415 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0
][2023-10-31 16-39-58.415 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-58.416 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0 - 204 - - 0.6800ms
][2023-10-31 16-39-58.420 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52
][2023-10-31 16-39-58.420 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-39-58.420 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 16-39-58.420 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 16-39-58.423 -07:00 [INF] Request POST /api/Member/1/rate-trainer/1/3 completed in 0 ms
][2023-10-31 16-39-58.424 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52 - 401 - application/json 3.8082ms
][2023-10-31 16-48-44.078 -07:00 [INF] User profile is available. Using 'C:\Users\Belkisa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
][2023-10-31 16-48-44.421 -07:00 [INF] Application started. Press Ctrl+C to shut down.
][2023-10-31 16-48-44.428 -07:00 [INF] Hosting environment: Development
][2023-10-31 16-48-44.430 -07:00 [INF] Content root path: C:\Users\Belkisa\source\repos\Napredne baze podataka API\
][2023-10-31 16-48-44.462 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/index.html - -
][2023-10-31 16-48-45.183 -07:00 [INF] Request GET /swagger/index.html completed in 612 ms
][2023-10-31 16-48-45.342 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_vs/browserLink - -
][2023-10-31 16-48-45.342 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - -
][2023-10-31 16-48-45.456 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - - - 200 12022 application/javascript;+charset=utf-8 108.1023ms
][2023-10-31 16-48-45.543 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 200.5006ms
][2023-10-31 16-48-45.547 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-48-45.663 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-48-45.667 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-48-45.695 -07:00 [ERR] Connection ID "18014398523977498636", Request ID "8000000d-0003-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithFilterAsync(IHttpSocketAdapter injectScriptSocket, String requestId, HttpContext httpContext)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-48-45.699 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/index.html - - - 200 - text/html;charset=utf-8 1245.6431ms
][2023-10-31 16-48-45.869 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - -
][2023-10-31 16-48-46.159 -07:00 [INF] Request GET /swagger/v1/swagger.json completed in 286 ms
][2023-10-31 16-48-46.234 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-48-46.264 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-48-46.267 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-48-46.274 -07:00 [ERR] Connection ID "18014398523977498636", Request ID "8000000e-0003-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-48-46.280 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 411.3008ms
][2023-10-31 16-48-59.227 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0
][2023-10-31 16-48-59.229 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-48-59.233 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0 - 204 - - 6.1705ms
][2023-10-31 16-48-59.237 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88
][2023-10-31 16-48-59.237 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-48-59.382 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-48-59.428 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 16-49-02.564 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 16-49-02.671 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-49-02.726 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 16-49-02.898 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 16-49-02.958 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-49-03.013 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 16-49-03.066 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 16-49-03.659 -07:00 [INF] Executed DbCommand (209ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Members] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 16-49-04.053 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 16-49-04.092 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 4648.5084ms
][2023-10-31 16-49-04.094 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 16-49-04.100 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 4857 ms
][2023-10-31 16-49-04.394 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-04.540 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-49-04.545 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-49-04.553 -07:00 [ERR] Connection ID "18158513699168452678", Request ID "80000047-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-49-04.575 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88 - 200 - application/json;+charset=utf-8 5337.5551ms
][2023-10-31 16-49-04.657 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 16-49-04.657 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.658 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 1.4339ms
][2023-10-31 16-49-04.662 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 16-49-04.662 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.663 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.4592ms
][2023-10-31 16-49-04.665 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 16-49-04.665 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.669 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 16-49-04.669 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.670 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 16-49-04.670 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.670 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.2919ms
][2023-10-31 16-49-04.681 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 16-49-04.681 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.681 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.4214ms
][2023-10-31 16-49-04.691 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 16-49-04.691 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.695 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 16-49-04.696 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-04.834 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-49-04.844 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 16-49-04.860 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-49-04.860 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 16-49-04.860 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 16-49-04.863 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-49-04.863 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-49-04.864 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-49-04.996 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 16-49-05.023 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 16-49-05.047 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 183.0017ms
][2023-10-31 16-49-05.047 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 16-49-05.052 -07:00 [INF] Request GET /api/Member/member/1 completed in 358 ms
][2023-10-31 16-49-05.311 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-05.426 -07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 16-49-05.428 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 16-49-05.431 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-49-05.435 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 571.8847ms
][2023-10-31 16-49-05.435 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 16-49-05.434 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-49-05.441 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 769 ms
][2023-10-31 16-49-05.608 -07:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 16-49-05.686 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-05.801 -07:00 [ERR] Connection ID "17942340929939570691", Request ID "80000004-0003-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-49-05.806 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1114.6135ms
][2023-10-31 16-49-05.811 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-49-05.846 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-49-05.864 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 16-49-05.864 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-05.865 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 1.4146ms
][2023-10-31 16-49-05.865 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 16-49-05.865 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-05.865 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.4341ms
][2023-10-31 16-49-05.867 -07:00 [ERR] Connection ID "18230571306091282437", Request ID "80000006-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-49-05.869 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1204.5970ms
][2023-10-31 16-49-05.890 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 16-49-05.890 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 16-49-05.890 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-05.890 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-05.892 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 16-49-05.892 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 16-49-05.895 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-49-05.895 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-49-05.913 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-49-05.920 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 1075.9531ms
][2023-10-31 16-49-05.920 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-49-05.924 -07:00 [INF] Request GET /api/Manager/trainers completed in 1224 ms
][2023-10-31 16-49-06.134 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-06.266 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-49-06.272 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-49-06.279 -07:00 [ERR] Connection ID "17870283335901642753", Request ID "80000002-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-49-06.279 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1583.9865ms
][2023-10-31 16-49-06.503 -07:00 [INF] Executed DbCommand (180ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 16-49-06.513 -07:00 [INF] Executed DbCommand (187ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 16-49-06.514 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 16-49-06.515 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 619.669ms
][2023-10-31 16-49-06.515 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 16-49-06.515 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 16-49-06.524 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 628.6822ms
][2023-10-31 16-49-06.527 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 16-49-06.528 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 625 ms
][2023-10-31 16-49-06.533 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 637 ms
][2023-10-31 16-49-06.965 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-06.965 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-07.193 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-49-07.196 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-49-07.198 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-49-07.201 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-49-07.208 -07:00 [ERR] Connection ID "18374686485577203726", Request ID "8000000f-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-49-07.208 -07:00 [ERR] Connection ID "18302628891539275794", Request ID "80000013-0001-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-49-07.209 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1319.1643ms
][2023-10-31 16-49-07.210 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1319.6353ms
][2023-10-31 16-49-07.368 -07:00 [INF] Executed DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 16-49-07.424 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 16-49-07.428 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 2565.219ms
][2023-10-31 16-49-07.429 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 16-49-07.469 -07:00 [INF] Request GET /api/Member/trainers completed in 2759 ms
][2023-10-31 16-49-07.823 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-07.959 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 16-49-07.962 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 16-49-07.968 -07:00 [ERR] Connection ID "18302628900129210381", Request ID "8000000e-0003-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 16-49-07.969 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 3300.0448ms
][2023-10-31 16-49-07.978 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 16-49-07.979 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-07.990 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 11.5934ms
][2023-10-31 16-49-07.993 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 16-49-07.993 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-07.994 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.6857ms
][2023-10-31 16-49-07.996 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 16-49-07.996 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-07.997 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-49-08.001 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-49-08.233 -07:00 [INF] Executed DbCommand (144ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 16-49-08.375 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 16-49-08.598 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 596.8098ms
][2023-10-31 16-49-08.598 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-49-08.811 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 812 ms
][2023-10-31 16-49-09.115 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-09.275 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1278.5951ms
][2023-10-31 16-49-09.281 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 16-49-09.281 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-09.282 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-49-09.282 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 16-49-09.327 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 16-49-09.333 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 16-49-09.554 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 271.7352ms
][2023-10-31 16-49-09.555 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 16-49-09.723 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 440 ms
][2023-10-31 16-49-10.010 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 16-49-10.012 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 731.2283ms
][2023-10-31 16-49-16.611 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0
][2023-10-31 16-49-16.611 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-16.611 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0 - 204 - - 0.6306ms
][2023-10-31 16-49-16.616 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52
][2023-10-31 16-49-16.616 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-49-16.619 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 16-49-16.628 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 16-49-16.630 -07:00 [INF] Request POST /api/Member/1/rate-trainer/1/3 completed in 11 ms
][2023-10-31 16-49-16.632 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52 - 401 - application/json 16.2703ms
][2023-10-31 16-50-17.321 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0
][2023-10-31 16-50-17.321 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-50-17.325 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0 - 204 - - 4.9870ms
][2023-10-31 16-50-17.328 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52
][2023-10-31 16-50-17.328 -07:00 [INF] CORS policy execution successful.
][2023-10-31 16-50-17.328 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 16-50-17.329 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 16-50-17.331 -07:00 [INF] Request PUT /api/Member/1/reset-selectedtrainer completed in 0 ms
][2023-10-31 16-50-17.332 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52 - 401 - application/json 4.0663ms
][2023-10-31 17-31-37.820 -07:00 [INF] User profile is available. Using 'C:\Users\Belkisa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
][2023-10-31 17-31-38.150 -07:00 [INF] Application started. Press Ctrl+C to shut down.
][2023-10-31 17-31-38.155 -07:00 [INF] Hosting environment: Development
][2023-10-31 17-31-38.158 -07:00 [INF] Content root path: C:\Users\Belkisa\source\repos\Napredne baze podataka API\
][2023-10-31 17-31-38.191 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/index.html - -
][2023-10-31 17-31-39.077 -07:00 [INF] Request GET /swagger/index.html completed in 769 ms
][2023-10-31 17-31-39.090 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_vs/browserLink - -
][2023-10-31 17-31-39.090 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - -
][2023-10-31 17-31-39.378 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_framework/aspnetcore-browser-refresh.js - - - 200 12022 application/javascript;+charset=utf-8 283.6325ms
][2023-10-31 17-31-39.470 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-31-39.571 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 481.4251ms
][2023-10-31 17-31-39.599 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-31-39.602 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-31-39.634 -07:00 [ERR] Connection ID "17870283323016740895", Request ID "80000020-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithFilterAsync(IHttpSocketAdapter injectScriptSocket, String requestId, HttpContext httpContext)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-31-39.639 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/index.html - - - 200 - text/html;charset=utf-8 1459.1379ms
][2023-10-31 17-31-39.684 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - -
][2023-10-31 17-31-39.967 -07:00 [INF] Request GET /swagger/v1/swagger.json completed in 280 ms
][2023-10-31 17-31-40.062 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-31-40.096 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-31-40.100 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-31-40.105 -07:00 [ERR] Connection ID "17870283323016740895", Request ID "80000021-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-31-40.110 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 425.3095ms
][2023-10-31 17-37-38.128 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0
][2023-10-31 17-37-38.135 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-38.140 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0 - 204 - - 11.6729ms
][2023-10-31 17-37-38.144 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88
][2023-10-31 17-37-38.144 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-38.284 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 17-37-38.341 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 17-37-41.764 -07:00 [INF] Executed DbCommand (164ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 17-37-41.883 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 17-37-41.942 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 17-37-42.153 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 17-37-42.210 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 17-37-42.269 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 17-37-42.327 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 17-37-42.638 -07:00 [INF] Executed DbCommand (88ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Members] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 17-37-42.906 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 17-37-42.941 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 4592.4894ms
][2023-10-31 17-37-42.942 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 17-37-42.946 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 4799 ms
][2023-10-31 17-37-43.230 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-43.339 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-37-43.342 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-37-43.347 -07:00 [ERR] Connection ID "18230571293206380563", Request ID "80000014-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-37-43.381 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-37-43.382 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.382 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.9021ms
][2023-10-31 17-37-43.383 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-37-43.384 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.384 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 1.6694ms
][2023-10-31 17-37-43.388 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-37-43.388 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.389 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.3793ms
][2023-10-31 17-37-43.390 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-37-43.390 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.391 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.4087ms
][2023-10-31 17-37-43.400 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-37-43.400 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.401 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88 - 200 - application/json;+charset=utf-8 5257.0992ms
][2023-10-31 17-37-43.401 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-37-43.401 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.407 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-37-43.407 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.419 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-37-43.419 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-43.552 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-37-43.559 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-37-43.575 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-37-43.575 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-37-43.575 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-37-43.578 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-37-43.578 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-37-43.578 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-37-43.694 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-37-43.720 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-37-43.722 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 143.541ms
][2023-10-31 17-37-43.722 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-37-43.726 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 304 ms
][2023-10-31 17-37-43.983 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-44.111 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-37-44.115 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-37-44.122 -07:00 [ERR] Connection ID "18014398515387564033", Request ID "80000002-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-37-44.123 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 704.2004ms
][2023-10-31 17-37-44.152 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-37-44.153 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-37-44.159 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-37-44.179 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 601.1326ms
][2023-10-31 17-37-44.179 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-37-44.182 -07:00 [INF] Request GET /api/Member/member/1 completed in 779 ms
][2023-10-31 17-37-44.424 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-44.559 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-37-44.564 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-37-44.570 -07:00 [ERR] Connection ID "18158513712053354542", Request ID "8000002f-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-37-44.581 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1181.2630ms
][2023-10-31 17-37-44.591 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-37-44.591 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-44.591 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.3316ms
][2023-10-31 17-37-44.596 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-37-44.596 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-44.599 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 1.5991ms
][2023-10-31 17-37-44.601 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-37-44.601 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-44.604 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-37-44.607 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-37-44.611 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-37-44.613 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-44.617 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-37-44.627 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-37-44.629 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 1069.6803ms
][2023-10-31 17-37-44.629 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-37-44.632 -07:00 [INF] Request GET /api/Manager/trainers completed in 1222 ms
][2023-10-31 17-37-44.699 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-37-44.901 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-45.033 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-37-45.036 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-37-45.041 -07:00 [ERR] Connection ID "18374686485577203728", Request ID "80000011-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-37-45.042 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1635.0839ms
][2023-10-31 17-37-45.137 -07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-37-45.137 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-37-45.138 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 439.1389ms
][2023-10-31 17-37-45.139 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-37-45.142 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 525 ms
][2023-10-31 17-37-45.254 -07:00 [INF] Executed DbCommand (64ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-37-45.312 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-37-45.395 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 787.9953ms
][2023-10-31 17-37-45.395 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-37-45.399 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 793 ms
][2023-10-31 17-37-45.573 -07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-37-45.574 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-45.765 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-37-45.766 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-45.773 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-37-45.897 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-37-45.898 -07:00 [ERR] Connection ID "17942340921349636099", Request ID "80000004-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-37-45.899 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1288.5384ms
][2023-10-31 17-37-45.903 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-37-45.910 -07:00 [ERR] Connection ID "18014398515387564037", Request ID "80000006-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-37-45.911 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1309.9763ms
][2023-10-31 17-37-45.938 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-37-45.943 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 2364.4808ms
][2023-10-31 17-37-45.943 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-37-45.945 -07:00 [INF] Request GET /api/Member/trainers completed in 2541 ms
][2023-10-31 17-37-46.211 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-46.333 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-37-46.336 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-37-46.341 -07:00 [ERR] Connection ID "18230571293206380567", Request ID "80000018-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-37-46.341 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2939.8969ms
][2023-10-31 17-37-46.348 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-37-46.349 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-46.349 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.4682ms
][2023-10-31 17-37-46.355 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-37-46.355 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-37-46.355 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-46.355 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-46.356 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3852ms
][2023-10-31 17-37-46.356 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-37-46.359 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-37-46.484 -07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-37-46.509 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-37-46.721 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 361.9761ms
][2023-10-31 17-37-46.722 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-37-46.869 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 511 ms
][2023-10-31 17-37-47.181 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-47.341 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 986.1269ms
][2023-10-31 17-37-47.345 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-37-47.345 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-37-47.347 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-37-47.347 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-37-47.390 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-37-47.394 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-37-47.575 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 228.259ms
][2023-10-31 17-37-47.576 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-37-47.709 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 361 ms
][2023-10-31 17-37-48.030 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-37-48.034 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 688.8852ms
][2023-10-31 17-38-16.288 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0
][2023-10-31 17-38-16.288 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-16.289 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0 - 204 - - 0.5105ms
][2023-10-31 17-38-16.293 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52
][2023-10-31 17-38-16.293 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-16.297 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-38-16.311 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-38-16.314 -07:00 [INF] Request POST /api/Member/1/rate-trainer/1/3 completed in 17 ms
][2023-10-31 17-38-16.316 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52 - 401 - application/json 23.0757ms
][2023-10-31 17-38-18.763 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0
][2023-10-31 17-38-18.763 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-18.763 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0 - 204 - - 0.2635ms
][2023-10-31 17-38-18.768 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52
][2023-10-31 17-38-18.768 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-18.768 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-38-18.768 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-38-18.770 -07:00 [INF] Request PUT /api/Member/1/reset-selectedtrainer completed in 0 ms
][2023-10-31 17-38-18.771 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52 - 401 - application/json 3.1275ms
][2023-10-31 17-38-24.558 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 17-38-24.558 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-24.558 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.4534ms
][2023-10-31 17-38-24.562 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 17-38-24.562 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-24.564 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-24.564 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-38-24.624 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-38-24.629 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-24.630 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 65.104ms
][2023-10-31 17-38-24.630 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-24.634 -07:00 [INF] Request GET /api/Manager/trainers completed in 67 ms
][2023-10-31 17-38-24.881 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-25.023 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-25.027 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-25.033 -07:00 [ERR] Connection ID "18014398515387564041", Request ID "8000000a-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-25.034 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 472.0489ms
][2023-10-31 17-38-25.938 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 17-38-25.938 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-25.938 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-25.938 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-38-25.992 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-38-25.993 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-25.994 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 55.4153ms
][2023-10-31 17-38-25.994 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-25.997 -07:00 [INF] Request GET /api/Manager/trainers completed in 55 ms
][2023-10-31 17-38-26.253 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-26.398 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-26.402 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-26.407 -07:00 [ERR] Connection ID "18302628895834243108", Request ID "80000025-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-26.408 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 470.2247ms
][2023-10-31 17-38-31.097 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 17-38-31.097 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-31.097 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.3753ms
][2023-10-31 17-38-31.102 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 17-38-31.102 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-31.102 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-31.102 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-38-31.157 -07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-38-31.159 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-31.160 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 57.6249ms
][2023-10-31 17-38-31.160 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-31.164 -07:00 [INF] Request GET /api/Manager/trainers completed in 58 ms
][2023-10-31 17-38-31.438 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-31.593 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-31.596 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-31.601 -07:00 [ERR] Connection ID "18158513712053354544", Request ID "80000031-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-31.602 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 500.7288ms
][2023-10-31 17-38-32.906 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-38-32.906 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-32.907 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3148ms
][2023-10-31 17-38-32.910 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-38-32.911 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-32.911 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-32.911 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-38-32.985 -07:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-38-32.987 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-33.002 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 90.7946ms
][2023-10-31 17-38-33.002 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-33.010 -07:00 [INF] Request GET /api/Manager/trainers completed in 91 ms
][2023-10-31 17-38-33.285 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-33.411 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-33.414 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-33.420 -07:00 [ERR] Connection ID "18158513712053354546", Request ID "80000033-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-33.420 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 509.9768ms
][2023-10-31 17-38-38.866 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 17-38-38.866 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-38.866 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.3831ms
][2023-10-31 17-38-38.871 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 17-38-38.871 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-38.872 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-38.872 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-38-38.919 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-38-38.920 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-38.921 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 48.9828ms
][2023-10-31 17-38-38.921 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-38.923 -07:00 [INF] Request GET /api/Manager/trainers completed in 49 ms
][2023-10-31 17-38-39.179 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-39.315 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-39.318 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-39.323 -07:00 [ERR] Connection ID "18230571293206380579", Request ID "80000024-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-39.324 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 452.4866ms
][2023-10-31 17-38-45.104 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Seller/list-products - 0
][2023-10-31 17-38-45.104 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-45.104 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Seller/list-products - 0 - 204 - - 0.4973ms
][2023-10-31 17-38-45.108 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Seller/list-products - -
][2023-10-31 17-38-45.108 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-45.109 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.SellerController.ListProducts (Napredne baze podataka API)'
][2023-10-31 17-38-45.113 -07:00 [INF] Route matched with {action = "ListProducts", controller = "Seller"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListProducts() on controller Napredne_baze_podataka_API.Controllers.SellerController (Napredne baze podataka API).
][2023-10-31 17-38-45.177 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[IsMain], [p].[Name], [p].[Price], [p].[PublicId], [p].[SellerId], [p].[Type], [p].[Url]
FROM [Products] AS [p]
][2023-10-31 17-38-45.178 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.Models.Product, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-45.180 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.SellerController.ListProducts (Napredne baze podataka API) in 67.2506ms
][2023-10-31 17-38-45.180 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.SellerController.ListProducts (Napredne baze podataka API)'
][2023-10-31 17-38-45.186 -07:00 [INF] Request GET /api/Seller/list-products completed in 71 ms
][2023-10-31 17-38-45.441 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-45.572 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-45.574 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-45.579 -07:00 [ERR] Connection ID "17942340917054668841", Request ID "8000002a-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-45.580 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Seller/list-products - - - 200 - application/json;+charset=utf-8 471.2341ms
][2023-10-31 17-38-48.785 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Sponsor/list-ads - 0
][2023-10-31 17-38-48.785 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-48.785 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Sponsor/list-ads - 0 - 204 - - 0.4436ms
][2023-10-31 17-38-48.790 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Sponsor/list-ads - -
][2023-10-31 17-38-48.791 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-48.791 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API)'
][2023-10-31 17-38-48.794 -07:00 [INF] Route matched with {action = "ListAds", controller = "Sponsor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListAds() on controller Napredne_baze_podataka_API.Controllers.SponsorController (Napredne baze podataka API).
][2023-10-31 17-38-48.854 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[IsMain], [a].[PublicId], [a].[SponsorId], [a].[Title], [a].[Url]
FROM [Advertisements] AS [a]
][2023-10-31 17-38-48.855 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.Models.Advertisement, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-48.856 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API) in 61.6702ms
][2023-10-31 17-38-48.856 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API)'
][2023-10-31 17-38-48.859 -07:00 [INF] Request GET /api/Sponsor/list-ads completed in 65 ms
][2023-10-31 17-38-49.125 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-49.258 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-49.260 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-49.266 -07:00 [ERR] Connection ID "17942340917054668843", Request ID "8000002c-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-49.267 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Sponsor/list-ads - - - 200 - application/json;+charset=utf-8 476.3912ms
][2023-10-31 17-38-51.606 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-38-51.606 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.606 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.8256ms
][2023-10-31 17-38-51.607 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-38-51.607 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.626 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 18.6074ms
][2023-10-31 17-38-51.628 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-38-51.628 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.630 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 1.7518ms
][2023-10-31 17-38-51.635 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-38-51.635 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.636 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3504ms
][2023-10-31 17-38-51.658 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-38-51.658 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.658 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-38-51.658 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.669 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-38-51.670 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-38-51.670 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-38-51.670 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-38-51.705 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-38-51.705 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-38-51.705 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.705 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-51.705 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-51.705 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-51.705 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-38-51.705 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-38-51.729 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-38-51.730 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-38-51.732 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-38-51.734 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 63.9611ms
][2023-10-31 17-38-51.734 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-38-51.734 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-38-51.735 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 65.7037ms
][2023-10-31 17-38-51.736 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-38-51.737 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 75 ms
][2023-10-31 17-38-51.740 -07:00 [INF] Request GET /api/Member/member/1 completed in 77 ms
][2023-10-31 17-38-52.060 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-38-52.196 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-52.200 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 494.5411ms
][2023-10-31 17-38-52.200 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-52.330 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-52.334 -07:00 [INF] Request GET /api/Member/trainers completed in 495 ms
][2023-10-31 17-38-52.394 -07:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-38-52.592 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-52.707 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-38-52.756 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-52.865 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-52.868 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-52.868 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 1162.8638ms
][2023-10-31 17-38-52.869 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-38-52.871 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-52.920 -07:00 [INF] Request GET /api/Manager/trainers completed in 1164 ms
][2023-10-31 17-38-53.050 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-53.283 -07:00 [ERR] Connection ID "18014398515387564051", Request ID "80000014-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-53.283 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-53.285 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1627.0171ms
][2023-10-31 17-38-53.289 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-53.291 -07:00 [ERR] Connection ID "17942340921349636101", Request ID "80000006-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-53.293 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1635.3085ms
][2023-10-31 17-38-53.294 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-53.379 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-38-53.380 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-53.379 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-38-53.380 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-53.381 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.4518ms
][2023-10-31 17-38-53.382 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 3.0021ms
][2023-10-31 17-38-53.382 -07:00 [ERR] Connection ID "17942340917054668847", Request ID "80000030-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-53.384 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1678.5827ms
][2023-10-31 17-38-53.401 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-38-53.401 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-53.515 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-38-53.515 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-53.515 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.4874ms
][2023-10-31 17-38-53.516 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-38-53.516 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-53.518 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-38-53.519 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-38-53.516 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-38-53.519 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-38-53.523 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-38-53.524 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-53.524 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.4139ms
][2023-10-31 17-38-53.530 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-53.530 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-38-53.532 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-53.533 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-38-53.533 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-38-53.534 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-53.543 -07:00 [ERR] Connection ID "18230571293206380581", Request ID "80000026-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-53.544 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1839.0144ms
][2023-10-31 17-38-53.569 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-38-53.570 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-38-53.572 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-38-53.572 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 53.1664ms
][2023-10-31 17-38-53.572 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-38-53.573 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-38-53.577 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 55 ms
][2023-10-31 17-38-53.579 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 59.3249ms
][2023-10-31 17-38-53.579 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-38-53.642 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-38-53.722 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 177 ms
][2023-10-31 17-38-53.774 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-38-54.257 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-54.259 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-54.635 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1100.6778ms
][2023-10-31 17-38-54.639 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-38-54.639 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-54.640 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-38-54.644 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-54.647 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-38-54.821 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1287 ms
][2023-10-31 17-38-54.944 -07:00 [ERR] Connection ID "18014398515387564055", Request ID "80000018-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-55.036 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1634.8801ms
][2023-10-31 17-38-55.036 -07:00 [ERR] Connection ID "17942340917054668849", Request ID "80000032-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-38-55.037 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1521.4086ms
][2023-10-31 17-38-55.226 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-55.228 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1697.6043ms
][2023-10-31 17-38-55.233 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-38-55.233 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-38-55.233 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-38-55.233 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-38-55.276 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-38-55.285 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-38-55.499 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 265.7212ms
][2023-10-31 17-38-55.499 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-38-55.643 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 408 ms
][2023-10-31 17-38-55.947 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-38-55.949 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 716.2882ms
][2023-10-31 17-39-15.502 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0
][2023-10-31 17-39-15.503 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-39-15.503 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0 - 204 - - 0.6038ms
][2023-10-31 17-39-15.508 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52
][2023-10-31 17-39-15.508 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-39-15.508 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-39-15.508 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-39-15.510 -07:00 [INF] Request POST /api/Member/1/rate-trainer/1/3 completed in 0 ms
][2023-10-31 17-39-15.511 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 52 - 401 - application/json 3.2395ms
][2023-10-31 17-40-05.785 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-40-05.787 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.790 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 5.6150ms
][2023-10-31 17-40-05.792 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-40-05.792 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.793 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 2.9214ms
][2023-10-31 17-40-05.793 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-40-05.793 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.793 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-40-05.794 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.794 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.2096ms
][2023-10-31 17-40-05.794 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 3.4052ms
][2023-10-31 17-40-05.800 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-40-05.800 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.800 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-05.805 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-05.806 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-40-05.806 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.806 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-40-05.806 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.806 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-05.806 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-40-05.806 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-40-05.806 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-05.809 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-40-05.809 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-05.811 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-05.812 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-05.853 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-40-05.854 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-40-05.855 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-40-05.855 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 49.4904ms
][2023-10-31 17-40-05.855 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-05.855 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-40-05.858 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 55 ms
][2023-10-31 17-40-05.861 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-40-05.862 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-40-05.923 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-40-05.925 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-40-06.017 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 210.708ms
][2023-10-31 17-40-06.017 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 210.8187ms
][2023-10-31 17-40-06.017 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 205.1482ms
][2023-10-31 17-40-06.018 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-40-06.019 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-06.019 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-06.173 -07:00 [INF] Request GET /api/Manager/trainers completed in 212 ms
][2023-10-31 17-40-06.266 -07:00 [INF] Request GET /api/Member/trainers completed in 209 ms
][2023-10-31 17-40-06.411 -07:00 [INF] Request GET /api/Member/member/1 completed in 212 ms
][2023-10-31 17-40-06.715 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-07.161 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-07.409 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-07.580 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-07.582 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-07.703 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-07.941 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-07.944 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-07.950 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-07.952 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-07.985 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-07.990 -07:00 [ERR] Connection ID "17942340921349636105", Request ID "8000000a-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-07.991 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2186.3463ms
][2023-10-31 17-40-07.994 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-08.002 -07:00 [ERR] Connection ID "18014398515387564061", Request ID "8000001e-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-08.004 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2194.3268ms
][2023-10-31 17-40-08.005 -07:00 [ERR] Connection ID "18158513712053354548", Request ID "80000035-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-08.007 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2207.4399ms
][2023-10-31 17-40-08.008 -07:00 [ERR] Connection ID "18374686485577203730", Request ID "80000013-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-08.009 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2202.9719ms
][2023-10-31 17-40-08.043 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-40-08.044 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-08.044 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.6241ms
][2023-10-31 17-40-08.050 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-40-08.050 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-08.051 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-08.051 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-08.074 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-40-08.074 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-08.074 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.4485ms
][2023-10-31 17-40-08.079 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-40-08.079 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-08.080 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-40-08.080 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-08.081 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-40-08.081 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-08.081 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.3501ms
][2023-10-31 17-40-08.086 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-40-08.086 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-08.086 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-08.087 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-08.096 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-40-08.101 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-40-08.186 -07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-40-08.188 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-40-08.224 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-40-08.225 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 145.0846ms
][2023-10-31 17-40-08.225 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-40-08.226 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-40-08.269 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 145 ms
][2023-10-31 17-40-08.270 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 183.3928ms
][2023-10-31 17-40-08.271 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-08.393 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 184 ms
][2023-10-31 17-40-09.275 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1224.6302ms
][2023-10-31 17-40-09.279 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-09.295 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-09.489 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-10.016 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-10.134 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-10.136 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 2081 ms
][2023-10-31 17-40-10.233 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-10.343 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-10.483 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-40-10.484 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-10.669 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-10.669 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-10.684 -07:00 [ERR] Connection ID "18158513712053354552", Request ID "80000039-0003-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-10.686 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 2599.9246ms
][2023-10-31 17-40-10.688 -07:00 [ERR] Connection ID "18302628895834243116", Request ID "8000002d-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-10.689 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 2610.2702ms
][2023-10-31 17-40-10.708 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-10.713 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 2662.8123ms
][2023-10-31 17-40-10.761 -07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-40-10.766 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-40-11.016 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 347.0389ms
][2023-10-31 17-40-11.017 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-11.226 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 738 ms
][2023-10-31 17-40-11.779 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-11.782 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1298.7030ms
][2023-10-31 17-40-13.593 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-40-13.593 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.593 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3576ms
][2023-10-31 17-40-13.596 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-40-13.597 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.597 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-13.597 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-13.604 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-40-13.604 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.604 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.3551ms
][2023-10-31 17-40-13.606 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-40-13.606 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.606 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.3690ms
][2023-10-31 17-40-13.610 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-40-13.610 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.610 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-13.610 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-13.611 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-40-13.611 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-40-13.611 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.611 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.612 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-40-13.612 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-13.619 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-40-13.619 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-13.620 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 8.8267ms
][2023-10-31 17-40-13.620 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-13.620 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-40-13.643 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-40-13.644 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-40-13.645 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 47.6794ms
][2023-10-31 17-40-13.645 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-13.648 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 48 ms
][2023-10-31 17-40-13.802 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-40-13.880 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-40-13.965 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-40-13.966 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-40-13.968 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 355.0082ms
][2023-10-31 17-40-13.968 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-40-13.968 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 357.1462ms
][2023-10-31 17-40-13.969 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-13.969 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-40-14.006 -07:00 [INF] Request GET /api/Member/member/1 completed in 356 ms
][2023-10-31 17-40-14.007 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-40-14.070 -07:00 [INF] Request GET /api/Member/trainers completed in 359 ms
][2023-10-31 17-40-14.072 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-14.370 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 749.8164ms
][2023-10-31 17-40-14.584 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-40-14.667 -07:00 [INF] Request GET /api/Manager/trainers completed in 964 ms
][2023-10-31 17-40-14.879 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-14.880 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-15.222 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-15.416 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-15.421 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-15.446 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-15.446 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-15.596 -07:00 [ERR] Connection ID "18374686485577203734", Request ID "80000017-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-15.598 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-15.600 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-15.600 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2003.6645ms
][2023-10-31 17-40-15.660 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-15.663 -07:00 [ERR] Connection ID "18230571293206380585", Request ID "8000002a-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-15.665 -07:00 [ERR] Connection ID "17942340917054668861", Request ID "8000003e-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-15.665 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2053.4239ms
][2023-10-31 17-40-15.666 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2055.8863ms
][2023-10-31 17-40-15.667 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-15.673 -07:00 [ERR] Connection ID "18014398515387564069", Request ID "80000026-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-15.674 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2055.3548ms
][2023-10-31 17-40-15.684 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-40-15.684 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-15.684 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.2896ms
][2023-10-31 17-40-15.689 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-40-15.689 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-15.690 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-40-15.690 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-15.692 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-40-15.692 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-15.692 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.7032ms
][2023-10-31 17-40-15.696 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-40-15.696 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-15.697 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-15.697 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-15.720 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-40-15.720 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-15.720 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3587ms
][2023-10-31 17-40-15.724 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-40-15.724 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-15.724 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-15.724 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-15.737 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-40-15.738 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-40-15.738 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 48.0098ms
][2023-10-31 17-40-15.738 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-40-15.741 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 49 ms
][2023-10-31 17-40-15.808 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-40-15.809 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-40-15.896 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 198.723ms
][2023-10-31 17-40-15.896 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-40-15.905 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 199 ms
][2023-10-31 17-40-16.294 -07:00 [INF] Executed DbCommand (404ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-40-16.389 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-40-16.390 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-16.580 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-16.950 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-16.959 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-16.965 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1240.8018ms
][2023-10-31 17-40-16.965 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-40-16.966 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-16.969 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-40-17.056 -07:00 [ERR] Connection ID "17942340917054668863", Request ID "80000040-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-17.057 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1368.2723ms
][2023-10-31 17-40-17.163 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1437 ms
][2023-10-31 17-40-17.564 -07:00 [ERR] Connection ID "18230571293206380587", Request ID "8000002c-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-40-17.565 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1868.6350ms
][2023-10-31 17-40-17.579 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-17.582 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1858.2573ms
][2023-10-31 17-40-17.586 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-40-17.586 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-40-17.586 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-17.586 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-40-17.637 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-40-17.642 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-40-17.870 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 283.315ms
][2023-10-31 17-40-17.870 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-40-18.047 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 459 ms
][2023-10-31 17-40-18.430 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-40-18.432 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 846.7333ms
][2023-10-31 17-42-12.982 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-42-12.982 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-12.983 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 1.3466ms
][2023-10-31 17-42-12.988 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-42-12.988 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-12.988 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-42-12.989 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-42-12.998 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-42-12.999 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-12.999 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.4405ms
][2023-10-31 17-42-13.000 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-42-13.000 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-13.002 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 1.3889ms
][2023-10-31 17-42-13.002 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-42-13.002 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-13.002 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.4449ms
][2023-10-31 17-42-13.005 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-42-13.006 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-13.010 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-42-13.010 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-42-13.010 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-42-13.010 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-13.012 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-42-13.012 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-13.012 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-42-13.012 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-42-13.012 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-42-13.012 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-42-13.035 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-42-13.036 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-42-13.037 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 48.5699ms
][2023-10-31 17-42-13.037 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-42-13.040 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 49 ms
][2023-10-31 17-42-13.244 -07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-42-13.345 -07:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-42-13.346 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-42-13.527 -07:00 [INF] Executed DbCommand (333ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-42-13.527 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 514.977ms
][2023-10-31 17-42-13.529 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-42-13.529 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-42-13.536 -07:00 [INF] Request GET /api/Member/member/1 completed in 516 ms
][2023-10-31 17-42-13.539 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 528.3248ms
][2023-10-31 17-42-13.539 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-42-13.541 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-42-13.610 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-13.694 -07:00 [INF] Request GET /api/Member/trainers completed in 533 ms
][2023-10-31 17-42-14.182 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 1169.3248ms
][2023-10-31 17-42-14.182 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-42-14.186 -07:00 [INF] Request GET /api/Manager/trainers completed in 1170 ms
][2023-10-31 17-42-14.321 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-42-14.421 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-14.720 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-42-14.916 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-14.917 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-15.353 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-42-15.357 -07:00 [ERR] Connection ID "18230571293206380591", Request ID "80000030-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-42-15.357 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-42-15.358 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2370.1811ms
][2023-10-31 17-42-15.362 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-42-15.362 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-42-15.367 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-42-15.368 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-42-15.376 -07:00 [ERR] Connection ID "18302628895834243120", Request ID "80000031-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-42-15.376 -07:00 [ERR] Connection ID "18086456113720459306", Request ID "8000002b-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-42-15.378 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2367.6474ms
][2023-10-31 17-42-15.378 -07:00 [ERR] Connection ID "18374686489872171032", Request ID "80000019-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-42-15.378 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2366.4195ms
][2023-10-31 17-42-15.379 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2373.7596ms
][2023-10-31 17-42-15.398 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-42-15.398 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-15.398 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.4736ms
][2023-10-31 17-42-15.403 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-42-15.403 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-42-15.403 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-15.403 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-15.403 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.3194ms
][2023-10-31 17-42-15.403 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-42-15.403 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-42-15.408 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-42-15.408 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-15.409 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-42-15.409 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-42-15.434 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-42-15.435 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-15.435 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.4946ms
][2023-10-31 17-42-15.439 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-42-15.439 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-42-15.439 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-15.439 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-15.439 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3424ms
][2023-10-31 17-42-15.440 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-42-15.440 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-42-15.451 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-42-15.451 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-42-15.451 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 47.9589ms
][2023-10-31 17-42-15.452 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-42-15.454 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 48 ms
][2023-10-31 17-42-15.457 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-42-15.524 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-42-15.612 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-42-15.685 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 276.3599ms
][2023-10-31 17-42-15.685 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-42-15.784 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 277 ms
][2023-10-31 17-42-16.010 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-42-16.096 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-16.471 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-16.818 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-42-16.822 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-42-16.823 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1383.2098ms
][2023-10-31 17-42-16.824 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-42-16.824 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-42-16.828 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-42-17.021 -07:00 [ERR] Connection ID "18086456113720459308", Request ID "8000002d-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-42-17.021 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1578 ms
][2023-10-31 17-42-17.022 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1618.8721ms
][2023-10-31 17-42-17.112 -07:00 [ERR] Connection ID "18230571293206380593", Request ID "80000032-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-42-17.114 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1705.5418ms
][2023-10-31 17-42-17.452 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-17.456 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 2016.6993ms
][2023-10-31 17-42-17.459 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-42-17.460 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-17.460 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-42-17.460 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-42-17.503 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-42-17.507 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-42-17.739 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 279.0534ms
][2023-10-31 17-42-17.740 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-42-18.028 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 565 ms
][2023-10-31 17-42-18.631 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-42-18.638 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1178.2955ms
][2023-10-31 17-42-24.364 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0
][2023-10-31 17-42-24.364 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-24.364 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0 - 204 - - 0.3557ms
][2023-10-31 17-42-24.368 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52
][2023-10-31 17-42-24.369 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-42-24.369 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-42-24.369 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-42-24.371 -07:00 [INF] Request PUT /api/Member/1/reset-selectedtrainer completed in 0 ms
][2023-10-31 17-42-24.372 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52 - 401 - application/json 3.4658ms
][2023-10-31 17-43-07.080 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-43-07.080 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.085 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 5.6545ms
][2023-10-31 17-43-07.086 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-43-07.086 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.087 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 1.1846ms
][2023-10-31 17-43-07.087 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-43-07.087 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.087 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3571ms
][2023-10-31 17-43-07.088 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-43-07.088 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.088 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.9435ms
][2023-10-31 17-43-07.097 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-43-07.097 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.098 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-07.098 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-07.101 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-43-07.101 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.101 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-07.104 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-43-07.107 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-43-07.108 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.110 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-43-07.111 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-43-07.111 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-07.111 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-07.113 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-07.113 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-07.158 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-43-07.160 -07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-43-07.161 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-43-07.161 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-43-07.164 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-43-07.165 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 66.5443ms
][2023-10-31 17-43-07.165 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-07.165 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-43-07.168 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-43-07.168 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 57.1984ms
][2023-10-31 17-43-07.168 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 63.6768ms
][2023-10-31 17-43-07.169 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-43-07.169 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-07.170 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-43-07.172 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 67 ms
][2023-10-31 17-43-07.173 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 60.5512ms
][2023-10-31 17-43-07.174 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-07.337 -07:00 [INF] Request GET /api/Member/member/1 completed in 60 ms
][2023-10-31 17-43-07.341 -07:00 [INF] Request GET /api/Member/trainers completed in 132 ms
][2023-10-31 17-43-07.475 -07:00 [INF] Request GET /api/Manager/trainers completed in 68 ms
][2023-10-31 17-43-08.436 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-08.561 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-08.864 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-08.927 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-08.927 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-09.016 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-09.117 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-09.208 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-09.212 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-09.217 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-09.219 -07:00 [ERR] Connection ID "17942340921349636109", Request ID "8000000e-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-09.221 -07:00 [ERR] Connection ID "18086456113720459312", Request ID "80000031-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-09.251 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2143.8945ms
][2023-10-31 17-43-09.251 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-09.253 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2156.5807ms
][2023-10-31 17-43-09.255 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-09.260 -07:00 [ERR] Connection ID "17870283327311708163", Request ID "80000004-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-09.263 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2161.8957ms
][2023-10-31 17-43-09.264 -07:00 [ERR] Connection ID "18374686489872171036", Request ID "8000001d-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-09.265 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2154.6895ms
][2023-10-31 17-43-09.273 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-43-09.273 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-09.273 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.4638ms
][2023-10-31 17-43-09.278 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-43-09.278 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-43-09.278 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-09.278 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-09.279 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.3427ms
][2023-10-31 17-43-09.279 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-43-09.279 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-09.284 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-43-09.285 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-09.285 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-09.285 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-09.318 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-43-09.318 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-09.319 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3548ms
][2023-10-31 17-43-09.324 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-43-09.324 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-43-09.324 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-09.325 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-43-09.325 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-09.325 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-09.326 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 46.8443ms
][2023-10-31 17-43-09.326 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-43-09.330 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 47 ms
][2023-10-31 17-43-09.425 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-43-09.535 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-43-09.536 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-43-09.633 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 347.6593ms
][2023-10-31 17-43-09.633 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-09.737 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-43-09.738 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 348 ms
][2023-10-31 17-43-09.897 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-10.475 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-10.477 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-10.628 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1302.2469ms
][2023-10-31 17-43-10.628 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-10.628 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-10.632 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-10.724 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-10.821 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1494 ms
][2023-10-31 17-43-10.912 -07:00 [ERR] Connection ID "17942340921349636111", Request ID "80000010-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-11.159 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1781.5824ms
][2023-10-31 17-43-11.296 -07:00 [ERR] Connection ID "17870283327311708167", Request ID "80000008-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-11.297 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 2012.6817ms
][2023-10-31 17-43-11.314 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-11.318 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1993.4607ms
][2023-10-31 17-43-11.322 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-43-11.322 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-11.323 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-11.323 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-11.366 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-43-11.371 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-43-11.616 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 293.2204ms
][2023-10-31 17-43-11.616 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-11.805 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 480 ms
][2023-10-31 17-43-12.204 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-12.208 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 886.0437ms
][2023-10-31 17-43-31.421 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-43-31.421 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.433 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 11.8732ms
][2023-10-31 17-43-31.433 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-43-31.433 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.433 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3482ms
][2023-10-31 17-43-31.433 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-43-31.434 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.434 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.2454ms
][2023-10-31 17-43-31.434 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-43-31.434 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.434 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.2388ms
][2023-10-31 17-43-31.439 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-43-31.439 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.440 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-31.440 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-43-31.485 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-43-31.485 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.513 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-43-31.513 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-43-31.513 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.514 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-43-31.514 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-31.515 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-43-31.515 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-31.515 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-43-31.515 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-31.515 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-31.514 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-31.517 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-31.517 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 76.3847ms
][2023-10-31 17-43-31.517 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-31.521 -07:00 [INF] Request GET /api/Manager/trainers completed in 77 ms
][2023-10-31 17-43-31.680 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-43-31.686 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-43-32.019 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 503.9097ms
][2023-10-31 17-43-32.019 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-43-32.017 -07:00 [INF] Executed DbCommand (168ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-43-32.023 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-43-32.026 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 510.2784ms
][2023-10-31 17-43-32.026 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-32.026 -07:00 [INF] Request GET /api/Member/member/1 completed in 506 ms
][2023-10-31 17-43-32.097 -07:00 [INF] Executed DbCommand (500ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-43-32.170 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 510 ms
][2023-10-31 17-43-32.172 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-43-32.369 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-32.370 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 852.6862ms
][2023-10-31 17-43-32.373 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-43-32.512 -07:00 [INF] Request GET /api/Member/trainers completed in 887 ms
][2023-10-31 17-43-32.811 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-33.204 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-33.206 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-33.209 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-33.283 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-33.511 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-33.515 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-33.520 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-33.522 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-33.523 -07:00 [ERR] Connection ID "18374686489872171038", Request ID "8000001f-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-33.558 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-33.561 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-33.561 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2121.8288ms
][2023-10-31 17-43-33.564 -07:00 [ERR] Connection ID "18302628895834243122", Request ID "80000033-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-33.566 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2052.8462ms
][2023-10-31 17-43-33.585 -07:00 [ERR] Connection ID "18230571293206380603", Request ID "8000003c-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-33.587 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2101.9433ms
][2023-10-31 17-43-33.587 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-43-33.587 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-33.587 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.3164ms
][2023-10-31 17-43-33.599 -07:00 [ERR] Connection ID "18086456113720459314", Request ID "80000033-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-33.608 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2093.0975ms
][2023-10-31 17-43-33.609 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-43-33.610 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-33.611 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-43-33.611 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-33.630 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-43-33.630 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-33.630 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-43-33.632 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-33.634 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 2.1407ms
][2023-10-31 17-43-33.635 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 4.0859ms
][2023-10-31 17-43-33.642 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-43-33.645 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-33.645 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-43-33.645 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-33.645 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-33.646 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-33.646 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.0615ms
][2023-10-31 17-43-33.661 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-43-33.661 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-33.666 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-33.666 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-33.681 -07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-43-33.682 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-43-33.684 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 72.4544ms
][2023-10-31 17-43-33.684 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-43-33.688 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 74 ms
][2023-10-31 17-43-34.031 -07:00 [INF] Executed DbCommand (283ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-43-34.040 -07:00 [INF] Executed DbCommand (261ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-43-34.042 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-43-34.047 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 380.1553ms
][2023-10-31 17-43-34.047 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-43-34.048 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-34.054 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 385 ms
][2023-10-31 17-43-34.130 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-43-34.640 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-34.677 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-34.681 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-34.911 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-43-34.911 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1265.2367ms
][2023-10-31 17-43-34.911 -07:00 [ERR] Connection ID "18302628895834243124", Request ID "80000035-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-34.914 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-34.914 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-43-34.915 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1305.6248ms
][2023-10-31 17-43-35.081 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1433 ms
][2023-10-31 17-43-35.281 -07:00 [ERR] Connection ID "18086456113720459316", Request ID "80000035-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-43-35.388 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1727.0299ms
][2023-10-31 17-43-35.555 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-35.558 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1916.8849ms
][2023-10-31 17-43-35.566 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-43-35.566 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-35.568 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-35.569 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-43-35.617 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-43-35.625 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-43-35.919 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 350.2623ms
][2023-10-31 17-43-35.920 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-43-36.137 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 567 ms
][2023-10-31 17-43-36.448 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0
][2023-10-31 17-43-36.448 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-36.554 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0 - 204 - - 105.5791ms
][2023-10-31 17-43-36.558 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52
][2023-10-31 17-43-36.559 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-36.559 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-43-36.559 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-43-36.585 -07:00 [INF] Request PUT /api/Member/1/reset-selectedtrainer completed in 0 ms
][2023-10-31 17-43-36.586 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52 - 401 - application/json 27.0519ms
][2023-10-31 17-43-36.600 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-43-36.604 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1037.8099ms
][2023-10-31 17-43-46.738 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0
][2023-10-31 17-43-46.738 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-46.739 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0 - 204 - - 0.3039ms
][2023-10-31 17-43-46.742 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52
][2023-10-31 17-43-46.742 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-43-46.742 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-43-46.742 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-43-46.744 -07:00 [INF] Request PUT /api/Member/1/reset-selectedtrainer completed in 0 ms
][2023-10-31 17-43-46.745 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 52 - 401 - application/json 3.5496ms
][2023-10-31 17-44-41.299 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-44-41.299 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-44-41.299 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.299 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.299 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.5377ms
][2023-10-31 17-44-41.299 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-44-41.299 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.299 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.1780ms
][2023-10-31 17-44-41.300 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-44-41.300 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.301 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 1.8603ms
][2023-10-31 17-44-41.302 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 3.8380ms
][2023-10-31 17-44-41.311 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-44-41.311 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-44-41.311 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.311 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.312 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-41.312 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-41.320 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-41.324 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-41.383 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-44-41.383 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.383 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-41.383 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-44-41.404 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-44-41.404 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-41.404 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-41.405 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-41.414 -07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-41.421 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-44-41.424 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 112.0544ms
][2023-10-31 17-44-41.425 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-41.427 -07:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-44-41.430 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 114 ms
][2023-10-31 17-44-41.430 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-44-41.434 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-44-41.435 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 111.2554ms
][2023-10-31 17-44-41.436 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-41.521 -07:00 [INF] Request GET /api/Member/trainers completed in 125 ms
][2023-10-31 17-44-41.523 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-44-41.669 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 285.1151ms
][2023-10-31 17-44-41.669 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-41.872 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-41.873 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-44-41.874 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 467.7295ms
][2023-10-31 17-44-41.874 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-42.176 -07:00 [INF] Request GET /api/Manager/trainers completed in 285 ms
][2023-10-31 17-44-42.819 -07:00 [INF] Request GET /api/Member/member/1 completed in 470 ms
][2023-10-31 17-44-43.371 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-44.113 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-44.117 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-44.121 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-44.538 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-44.543 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-44.726 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-44.732 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-44.733 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-44.738 -07:00 [ERR] Connection ID "18374686494167138333", Request ID "8000001e-0003-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-44.739 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-44.742 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 3431.3660ms
][2023-10-31 17-44-44.743 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-44-44.743 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-44.744 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-44.744 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-44.744 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-44.752 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-44.757 -07:00 [ERR] Connection ID "18302628900129210390", Request ID "80000017-0003-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-44.757 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-44-44.759 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 3376.6185ms
][2023-10-31 17-44-44.760 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-44.760 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-44.760 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-44-44.760 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-44-44.760 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-44.760 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-44.760 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-44.765 -07:00 [ERR] Connection ID "18014398523977498648", Request ID "80000019-0003-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-44.766 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 3455.0625ms
][2023-10-31 17-44-44.766 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-44-44.767 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-44.767 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-44.767 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-44.781 -07:00 [ERR] Connection ID "18086456118015426579", Request ID "80000014-0003-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-44.782 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 3378.3020ms
][2023-10-31 17-44-44.799 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-44.799 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-44-44.800 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 55.8807ms
][2023-10-31 17-44-44.800 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-44.807 -07:00 [INF] Request GET /api/Member/member/1 completed in 57 ms
][2023-10-31 17-44-44.881 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-44-44.883 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-44-44.974 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-44-44.976 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 215.4738ms
][2023-10-31 17-44-44.976 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-44.980 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-44.981 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-44-44.981 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-44-44.982 -07:00 [INF] Request GET /api/Member/trainers completed in 216 ms
][2023-10-31 17-44-44.984 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 216.371ms
][2023-10-31 17-44-44.984 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-45.118 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 217 ms
][2023-10-31 17-44-45.364 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 603.9562ms
][2023-10-31 17-44-45.364 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-45.518 -07:00 [INF] Request GET /api/Manager/trainers completed in 604 ms
][2023-10-31 17-44-45.841 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-45.920 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-46.280 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-46.549 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-46.552 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-46.719 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-46.721 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-46.721 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-46.724 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-46.726 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-46.729 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-46.733 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-46.739 -07:00 [ERR] Connection ID "18230571306091282439", Request ID "80000008-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-46.739 -07:00 [ERR] Connection ID "17870283335901642755", Request ID "80000004-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-46.741 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1980.6658ms
][2023-10-31 17-44-46.741 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1974.5643ms
][2023-10-31 17-44-46.741 -07:00 [ERR] Connection ID "17942340929939570693", Request ID "80000006-0003-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-46.745 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2001.7083ms
][2023-10-31 17-44-46.750 -07:00 [ERR] Connection ID "17798225741863714817", Request ID "80000002-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-46.752 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1994.3872ms
][2023-10-31 17-44-46.759 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-44-46.759 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-46.759 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-44-46.759 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-46.760 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3535ms
][2023-10-31 17-44-46.760 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.4174ms
][2023-10-31 17-44-46.779 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-44-46.779 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-46.779 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.4642ms
][2023-10-31 17-44-46.781 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-44-46.781 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-44-46.781 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-46.781 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-46.781 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.4045ms
][2023-10-31 17-44-46.783 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-46.783 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-46.816 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-44-46.816 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-44-46.816 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-46.816 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-46.816 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-46.816 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-44-46.816 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-46.816 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-46.832 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-44-46.843 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-44-46.926 -07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-44-46.969 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-44-46.970 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-44-47.024 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-44-47.026 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 209.6327ms
][2023-10-31 17-44-47.026 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-44-47.075 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 210 ms
][2023-10-31 17-44-47.076 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 259.8806ms
][2023-10-31 17-44-47.076 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-47.129 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 260 ms
][2023-10-31 17-44-47.640 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 856.2604ms
][2023-10-31 17-44-47.724 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-47.883 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-47.886 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1100 ms
][2023-10-31 17-44-47.889 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-48.634 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-48.636 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-48.639 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-48.641 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-48.671 -07:00 [ERR] Connection ID "18158513699168452702", Request ID "8000005f-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-48.671 -07:00 [ERR] Connection ID "17870283323016740904", Request ID "80000029-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-48.673 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1857.0957ms
][2023-10-31 17-44-48.677 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1861.0025ms
][2023-10-31 17-44-48.693 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-48.696 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1914.9893ms
][2023-10-31 17-44-48.702 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-44-48.702 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-48.705 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-48.705 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-48.760 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-44-48.767 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-44-49.006 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 300.3472ms
][2023-10-31 17-44-49.006 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-49.191 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 485 ms
][2023-10-31 17-44-49.592 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-49.596 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 894.0073ms
][2023-10-31 17-44-49.872 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0
][2023-10-31 17-44-49.872 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-49.873 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/reset-selectedtrainer - 0 - 204 - - 0.9771ms
][2023-10-31 17-44-49.877 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 2
][2023-10-31 17-44-49.877 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-49.877 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ResetSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-49.880 -07:00 [INF] Route matched with {action = "ResetSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-49.928 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-49.979 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Members] SET [SelectedTrainerId] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 17-44-49.980 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-44-49.980 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.ResetSelectedTrainer (Napredne baze podataka API) in 100.2354ms
][2023-10-31 17-44-49.981 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ResetSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-49.984 -07:00 [INF] Request PUT /api/Member/1/reset-selectedtrainer completed in 103 ms
][2023-10-31 17-44-50.296 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-50.470 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-50.474 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-50.479 -07:00 [ERR] Connection ID "17870283323016740906", Request ID "8000002b-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-50.480 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 2 - 200 - application/json;+charset=utf-8 603.1966ms
][2023-10-31 17-44-50.487 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-44-50.488 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-50.488 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.8294ms
][2023-10-31 17-44-50.493 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-44-50.494 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-50.496 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 4.1457ms
][2023-10-31 17-44-50.497 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-44-50.497 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-44-50.497 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-50.497 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-50.497 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.4369ms
][2023-10-31 17-44-50.498 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-50.498 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-50.503 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-44-50.503 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-44-50.503 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-50.503 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-50.504 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-50.504 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-50.504 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-50.504 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-50.543 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-50.544 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-44-50.545 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 45.983ms
][2023-10-31 17-44-50.545 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-50.548 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 47 ms
][2023-10-31 17-44-50.550 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-50.621 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-44-50.699 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-44-50.699 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 195.2449ms
][2023-10-31 17-44-50.700 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-50.702 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-44-50.765 -07:00 [INF] Request GET /api/Member/member/1 completed in 197 ms
][2023-10-31 17-44-50.911 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 406.6739ms
][2023-10-31 17-44-50.911 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-50.996 -07:00 [INF] Request GET /api/Member/trainers completed in 407 ms
][2023-10-31 17-44-51.260 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-51.550 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-51.715 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-51.717 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-51.720 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-51.873 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 2
][2023-10-31 17-44-51.873 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-51.874 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-51.874 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ResetSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-51.875 -07:00 [INF] Route matched with {action = "ResetSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-51.913 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-51.919 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-51.922 -07:00 [ERR] Connection ID "18086456113720459320", Request ID "80000039-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-51.922 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-51.924 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1427.1443ms
][2023-10-31 17-44-51.930 -07:00 [ERR] Connection ID "18302628895834243128", Request ID "80000039-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-51.931 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1428.0416ms
][2023-10-31 17-44-51.950 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-44-51.952 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-51.952 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-44-51.952 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.8661ms
][2023-10-31 17-44-51.952 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-51.953 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.7548ms
][2023-10-31 17-44-51.953 -07:00 [ERR] Connection ID "17798225741863714821", Request ID "80000006-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-51.955 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1451.9965ms
][2023-10-31 17-44-51.961 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-44-51.968 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-51.968 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-51.968 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-51.972 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/null - 0
][2023-10-31 17-44-51.973 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-51.976 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/null - 0 - 204 - - 5.0448ms
][2023-10-31 17-44-51.985 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - -
][2023-10-31 17-44-51.985 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-51.993 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-44-51.994 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-51.995 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-51.997 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-44-51.998 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.ResetSelectedTrainer (Napredne baze podataka API) in 122.9818ms
][2023-10-31 17-44-51.998 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ResetSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-52.001 -07:00 [INF] Request PUT /api/Member/1/reset-selectedtrainer completed in 125 ms
][2023-10-31 17-44-52.318 -07:00 [INF] Executed DbCommand (257ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-44-52.332 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-44-52.333 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-52.728 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-52.728 -07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
][2023-10-31 17-44-52.731 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-52.732 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 763.0689ms
][2023-10-31 17-44-52.732 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-52.914 -07:00 [ERR] Connection ID "17870283323016740910", Request ID "8000002f-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-52.914 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 943 ms
][2023-10-31 17-44-52.915 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/reset-selectedtrainer application/json 2 - 200 - application/json;+charset=utf-8 1041.7246ms
][2023-10-31 17-44-53.013 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-44-53.013 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-44-53.013 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-44-53.013 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-53.013 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-53.013 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-53.014 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-53.014 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-53.014 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-53.014 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-53.014 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-53.014 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-53.202 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 1207.6781ms
][2023-10-31 17-44-53.203 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-44-53.339 -07:00 [INF] Request GET /api/Member/1/check-rating/null completed in 1342 ms
][2023-10-31 17-44-53.343 -07:00 [INF] Executed DbCommand (233ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-53.345 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-44-53.347 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 332.9583ms
][2023-10-31 17-44-53.347 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-44-53.397 -07:00 [INF] Request GET /api/Member/member/1 completed in 333 ms
][2023-10-31 17-44-53.615 -07:00 [INF] Executed DbCommand (382ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-44-53.617 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-44-53.690 -07:00 [INF] Executed DbCommand (509ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-44-53.691 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 677.3062ms
][2023-10-31 17-44-53.691 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-44-53.691 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-44-53.692 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-53.784 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 770.5755ms
][2023-10-31 17-44-53.789 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-44-53.790 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-53.791 -07:00 [INF] Request GET /api/Member/trainers completed in 677 ms
][2023-10-31 17-44-53.816 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1854.6699ms
][2023-10-31 17-44-53.816 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-53.926 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 776 ms
][2023-10-31 17-44-53.926 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-44-53.927 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-54.036 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-54.037 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-54.332 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-54.569 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-54.572 -07:00 [INF] Executed DbCommand (247ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-44-54.771 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-54.777 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-54.859 -07:00 [ERR] Connection ID "18158513699168452704", Request ID "80000061-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-54.860 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-54.859 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-54.966 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - - - 400 - application/problem+json;+charset=utf-8 2981.6512ms
][2023-10-31 17-44-54.969 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-44-54.973 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-55.146 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-55.197 -07:00 [ERR] Connection ID "17798225741863714825", Request ID "8000000a-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-55.246 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-55.248 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2233.0323ms
][2023-10-31 17-44-55.275 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - -
][2023-10-31 17-44-55.275 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-55.277 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-44-55.277 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-55.311 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-55.313 -07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
][2023-10-31 17-44-55.313 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 1.9009ms
][2023-10-31 17-44-55.313 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-44-55.317 -07:00 [ERR] Connection ID "17870283323016740912", Request ID "80000031-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-55.318 -07:00 [INF] Request GET /api/Member/1/check-rating/null completed in 38 ms
][2023-10-31 17-44-55.323 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2310.1657ms
][2023-10-31 17-44-55.318 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1280.7775ms
][2023-10-31 17-44-55.367 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-55.370 -07:00 [ERR] Connection ID "18302628895834243132", Request ID "8000003d-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-55.394 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2380.5352ms
][2023-10-31 17-44-55.525 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/choose-trainer/1 - 0
][2023-10-31 17-44-55.525 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-55.527 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/choose-trainer/1 - 0 - 204 - - 2.4777ms
][2023-10-31 17-44-55.615 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 52
][2023-10-31 17-44-55.615 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-55.616 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-55.616 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-44-55.617 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1686 ms
][2023-10-31 17-44-55.618 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-44-55.813 -07:00 [INF] Request PUT /api/Member/1/choose-trainer/1 completed in 2 ms
][2023-10-31 17-44-55.882 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 52 - 401 - application/json 268.2879ms
][2023-10-31 17-44-55.994 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-44-56.001 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-44-56.006 -07:00 [ERR] Connection ID "17870283327311708183", Request ID "80000018-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-44-56.014 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - - - 400 - application/problem+json;+charset=utf-8 739.5597ms
][2023-10-31 17-44-56.019 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-56.022 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 2096.0162ms
][2023-10-31 17-44-56.034 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-44-56.034 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-56.034 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-56.034 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-56.080 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-44-56.085 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-44-56.337 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 302.9957ms
][2023-10-31 17-44-56.338 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-56.532 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 495 ms
][2023-10-31 17-44-56.939 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-56.943 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 908.9392ms
][2023-10-31 17-44-56.952 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-44-56.952 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-44-56.952 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-56.953 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-44-57.002 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-44-57.011 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-44-57.261 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 308.2669ms
][2023-10-31 17-44-57.261 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-44-57.428 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 472 ms
][2023-10-31 17-44-57.946 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-44-57.948 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 996.1942ms
][2023-10-31 17-45-00.228 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 52
][2023-10-31 17-45-00.229 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-00.229 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-45-00.229 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-45-00.232 -07:00 [INF] Request PUT /api/Member/1/choose-trainer/1 completed in 0 ms
][2023-10-31 17-45-00.232 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 52 - 401 - application/json 3.6777ms
][2023-10-31 17-45-04.533 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/choose-trainer/1 - 0
][2023-10-31 17-45-04.534 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-04.535 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/choose-trainer/1 - 0 - 204 - - 1.3591ms
][2023-10-31 17-45-04.539 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 52
][2023-10-31 17-45-04.539 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-04.540 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
][2023-10-31 17-45-04.540 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
][2023-10-31 17-45-04.542 -07:00 [INF] Request PUT /api/Member/1/choose-trainer/1 completed in 0 ms
][2023-10-31 17-45-04.543 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 52 - 401 - application/json 3.6845ms
][2023-10-31 17-45-34.092 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-45-34.094 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.095 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 2.4804ms
][2023-10-31 17-45-34.110 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-45-34.110 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.115 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 6.3512ms
][2023-10-31 17-45-34.115 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-45-34.116 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.116 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-45-34.116 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.117 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.8147ms
][2023-10-31 17-45-34.117 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 1.9137ms
][2023-10-31 17-45-34.117 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-45-34.117 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-45-34.117 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.117 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.117 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-45-34.118 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-45-34.118 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-45-34.118 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-45-34.127 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-45-34.128 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.128 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-45-34.128 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-34.132 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-45-34.132 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-45-34.132 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-45-34.134 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-45-34.163 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-45-34.163 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-45-34.164 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 46.5554ms
][2023-10-31 17-45-34.165 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-45-34.166 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-45-34.168 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 47 ms
][2023-10-31 17-45-34.168 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-45-34.243 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 125.6356ms
][2023-10-31 17-45-34.244 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-45-34.328 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-45-34.404 -07:00 [INF] Request GET /api/Member/member/1 completed in 127 ms
][2023-10-31 17-45-34.550 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-45-34.627 -07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-45-34.629 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-45-34.702 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 568.1954ms
][2023-10-31 17-45-34.702 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-45-34.702 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-45-34.794 -07:00 [INF] Request GET /api/Member/trainers completed in 570 ms
][2023-10-31 17-45-34.795 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 660.4883ms
][2023-10-31 17-45-34.795 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-45-34.910 -07:00 [INF] Request GET /api/Manager/trainers completed in 667 ms
][2023-10-31 17-45-35.445 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-45-35.747 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-45-35.753 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-45-35.755 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-45-35.848 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-45-36.148 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-45-36.167 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-45-36.173 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-45-36.176 -07:00 [ERR] Connection ID "18158513699168452706", Request ID "80000063-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-45-36.178 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-45-36.178 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2060.9247ms
][2023-10-31 17-45-36.182 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-45-36.185 -07:00 [ERR] Connection ID "17798225741863714829", Request ID "8000000e-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-45-36.186 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2069.1054ms
][2023-10-31 17-45-36.189 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-45-36.197 -07:00 [ERR] Connection ID "18374686485577203748", Request ID "80000025-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-45-36.198 -07:00 [ERR] Connection ID "17870283327311708189", Request ID "8000001e-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-45-36.198 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2071.1172ms
][2023-10-31 17-45-36.199 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2070.3692ms
][2023-10-31 17-45-36.250 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/null - 0
][2023-10-31 17-45-36.250 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-36.250 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/null - 0 - 204 - - 0.3596ms
][2023-10-31 17-45-36.256 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - -
][2023-10-31 17-45-36.256 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-36.256 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-45-36.256 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-45-36.257 -07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
][2023-10-31 17-45-36.258 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 1.1539ms
][2023-10-31 17-45-36.258 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-45-36.260 -07:00 [INF] Request GET /api/Member/1/check-rating/null completed in 1 ms
][2023-10-31 17-45-36.279 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-45-36.279 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-36.297 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-45-36.297 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-36.297 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 18.3443ms
][2023-10-31 17-45-36.298 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.6308ms
][2023-10-31 17-45-36.314 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-45-36.314 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-36.330 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-45-36.330 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-45-36.334 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-45-36.373 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-45-36.376 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-45-36.379 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-45-36.382 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-45-36.422 -07:00 [ERR] Connection ID "18158513699168452708", Request ID "80000065-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-45-36.466 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - - - 400 - application/problem+json;+charset=utf-8 209.6548ms
][2023-10-31 17-45-36.639 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 309.2774ms
][2023-10-31 17-45-36.640 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-45-36.847 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 530 ms
][2023-10-31 17-45-37.375 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-45-37.381 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1067.0825ms
][2023-10-31 17-45-37.386 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-45-37.386 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-45-37.387 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-45-37.387 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-45-37.433 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-45-37.438 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-45-37.828 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 440.9537ms
][2023-10-31 17-45-37.828 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-45-38.013 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 623 ms
][2023-10-31 17-45-38.436 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-45-38.440 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1053.9249ms
][2023-10-31 17-46-05.031 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-46-05.054 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.054 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-46-05.054 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.072 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 40.5611ms
][2023-10-31 17-46-05.072 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-46-05.072 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.072 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.2622ms
][2023-10-31 17-46-05.072 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-46-05.072 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.072 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.1632ms
][2023-10-31 17-46-05.079 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 25.3016ms
][2023-10-31 17-46-05.119 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-46-05.120 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.120 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-46-05.120 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-05.120 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-46-05.120 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.120 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-05.121 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-05.129 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-46-05.130 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.134 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-05.136 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-05.163 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-46-05.163 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-05.165 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-05.165 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-46-05.169 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-05.179 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-46-05.180 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 60.0328ms
][2023-10-31 17-46-05.182 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-46-05.188 -07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-05.189 -07:00 [INF] Request GET /api/Member/member/1 completed in 62 ms
][2023-10-31 17-46-05.193 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-05.369 -07:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-46-05.370 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 249.8319ms
][2023-10-31 17-46-05.371 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-05.371 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-46-05.442 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 306.2411ms
][2023-10-31 17-46-05.442 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-05.522 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-46-05.527 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 250 ms
][2023-10-31 17-46-05.527 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-46-05.587 -07:00 [INF] Request GET /api/Member/trainers completed in 312 ms
][2023-10-31 17-46-05.819 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 654.0062ms
][2023-10-31 17-46-05.819 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-05.824 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-05.830 -07:00 [INF] Request GET /api/Manager/trainers completed in 654 ms
][2023-10-31 17-46-06.585 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-06.841 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-06.935 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-06.935 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-06.937 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-07.243 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-07.247 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-07.251 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-07.254 -07:00 [ERR] Connection ID "17942340929939570699", Request ID "8000000c-0003-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-07.256 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-07.256 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2136.5749ms
][2023-10-31 17-46-07.258 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-07.262 -07:00 [ERR] Connection ID "17798225741863714835", Request ID "80000014-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-07.263 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2142.9215ms
][2023-10-31 17-46-07.268 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-07.271 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/null - 0
][2023-10-31 17-46-07.271 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-07.273 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/null - 0 - 204 - - 1.5280ms
][2023-10-31 17-46-07.275 -07:00 [ERR] Connection ID "17870283335901642757", Request ID "80000006-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-07.276 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2113.4248ms
][2023-10-31 17-46-07.280 -07:00 [ERR] Connection ID "18230571306091282441", Request ID "8000000a-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-07.284 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - -
][2023-10-31 17-46-07.284 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-07.285 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2156.1118ms
][2023-10-31 17-46-07.286 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-07.286 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-07.287 -07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
][2023-10-31 17-46-07.288 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 2.1313ms
][2023-10-31 17-46-07.288 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-07.306 -07:00 [INF] Request GET /api/Member/1/check-rating/null completed in 2 ms
][2023-10-31 17-46-07.343 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-46-07.343 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-46-07.343 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-07.343 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-07.361 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 17.7889ms
][2023-10-31 17-46-07.361 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 17.8575ms
][2023-10-31 17-46-07.381 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-46-07.396 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-07.396 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-07.396 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-07.400 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-07.439 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-07.451 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-46-07.454 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-07.455 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-46-07.524 -07:00 [ERR] Connection ID "18302628895834243142", Request ID "80000047-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-07.525 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/null - - - 400 - application/problem+json;+charset=utf-8 240.4969ms
][2023-10-31 17-46-07.679 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 283.2707ms
][2023-10-31 17-46-07.680 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-07.865 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 467 ms
][2023-10-31 17-46-08.252 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-08.255 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 874.3575ms
][2023-10-31 17-46-08.282 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-46-08.283 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-08.283 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-08.283 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-08.331 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-46-08.335 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-46-08.557 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 274.3129ms
][2023-10-31 17-46-08.558 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-08.750 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 465 ms
][2023-10-31 17-46-09.147 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-09.150 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 867.7161ms
][2023-10-31 17-46-11.341 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/choose-trainer/1 - 0
][2023-10-31 17-46-11.341 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.342 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/choose-trainer/1 - 0 - 204 - - 0.3717ms
][2023-10-31 17-46-11.346 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 2
][2023-10-31 17-46-11.346 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.346 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ChooseTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-11.352 -07:00 [INF] Route matched with {action = "ChooseTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChooseTrainer(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-11.403 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-11.454 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Members] SET [SelectedTrainerId] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 17-46-11.455 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-11.456 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.ChooseTrainer (Napredne baze podataka API) in 103.4956ms
][2023-10-31 17-46-11.456 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ChooseTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-11.459 -07:00 [INF] Request PUT /api/Member/1/choose-trainer/1 completed in 109 ms
][2023-10-31 17-46-11.773 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-11.937 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-11.940 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-11.944 -07:00 [ERR] Connection ID "17870283323016740930", Request ID "80000043-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-11.945 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 2 - 200 - application/json;+charset=utf-8 599.3324ms
][2023-10-31 17-46-11.953 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-46-11.953 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.953 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3226ms
][2023-10-31 17-46-11.957 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-46-11.957 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.958 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.8230ms
][2023-10-31 17-46-11.967 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-46-11.968 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.969 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-11.969 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-11.969 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-46-11.969 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-46-11.969 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.969 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.969 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.2774ms
][2023-10-31 17-46-11.969 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.2480ms
][2023-10-31 17-46-11.972 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-46-11.972 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.972 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-11.972 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-11.983 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-46-11.984 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.984 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-46-11.985 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-11.985 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-46-11.985 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-11.986 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-11.986 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-12.017 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-12.018 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-12.018 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 49.4221ms
][2023-10-31 17-46-12.018 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-12.021 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 50 ms
][2023-10-31 17-46-12.320 -07:00 [INF] Executed DbCommand (246ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-12.328 -07:00 [INF] Executed DbCommand (250ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-46-12.328 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-46-12.331 -07:00 [INF] Executed DbCommand (247ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-46-12.331 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 345.6439ms
][2023-10-31 17-46-12.331 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-12.331 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-46-12.331 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-46-12.337 -07:00 [INF] Request GET /api/Member/member/1 completed in 348 ms
][2023-10-31 17-46-12.338 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 351.7755ms
][2023-10-31 17-46-12.338 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-12.339 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 366.6644ms
][2023-10-31 17-46-12.339 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-12.398 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-12.398 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 353 ms
][2023-10-31 17-46-12.481 -07:00 [INF] Request GET /api/Member/trainers completed in 367 ms
][2023-10-31 17-46-13.383 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-13.388 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-13.389 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-13.391 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-13.393 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-13.804 -07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 2
][2023-10-31 17-46-13.804 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-13.869 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ChooseTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-13.869 -07:00 [INF] Route matched with {action = "ChooseTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChooseTrainer(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-13.874 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-13.877 -07:00 [ERR] Connection ID "17870283323016740936", Request ID "80000049-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-13.881 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-13.882 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-13.882 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1915.6197ms
][2023-10-31 17-46-13.891 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-13.892 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-13.908 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-13.914 -07:00 [ERR] Connection ID "17870283327311708197", Request ID "80000026-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-13.919 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1947.1321ms
][2023-10-31 17-46-13.957 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-46-13.957 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-13.958 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.3570ms
][2023-10-31 17-46-13.958 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-46-13.958 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-13.958 -07:00 [ERR] Connection ID "18158513699168452710", Request ID "80000067-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-13.959 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.2869ms
][2023-10-31 17-46-13.960 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1975.4748ms
][2023-10-31 17-46-13.965 -07:00 [ERR] Connection ID "17942340917054668875", Request ID "8000004c-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-13.966 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-46-13.966 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1983.1889ms
][2023-10-31 17-46-13.967 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-13.973 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-13.973 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-13.988 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-46-13.988 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-46-13.989 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-13.989 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-13.989 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.0290ms
][2023-10-31 17-46-13.990 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-13.997 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-13.998 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-46-13.998 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-13.998 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-13.998 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-13.998 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-13.999 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-14.001 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.ChooseTrainer (Napredne baze podataka API) in 132.2215ms
][2023-10-31 17-46-14.002 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.ChooseTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-14.005 -07:00 [INF] Request PUT /api/Member/1/choose-trainer/1 completed in 133 ms
][2023-10-31 17-46-14.178 -07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-46-14.350 -07:00 [INF] Executed DbCommand (203ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-46-14.358 -07:00 [INF] Executed DbCommand (256ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-46-14.360 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-14.364 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-14.366 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-46-14.369 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 370.37ms
][2023-10-31 17-46-14.369 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-14.369 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-46-14.436 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 437.4909ms
][2023-10-31 17-46-14.436 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-14.572 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 547 ms
][2023-10-31 17-46-14.764 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-14.874 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-14.878 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 875 ms
][2023-10-31 17-46-14.878 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-14.923 -07:00 [ERR] Connection ID "18014398515387564081", Request ID "80000032-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-14.936 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 962.9636ms
][2023-10-31 17-46-14.939 -07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:55936/api/Member/1/choose-trainer/1 application/json 2 - 200 - application/json;+charset=utf-8 1135.2189ms
][2023-10-31 17-46-14.961 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-46-14.961 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-46-14.961 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-46-14.961 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-14.961 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-14.961 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-14.961 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-14.961 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-46-14.961 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-14.961 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-14.961 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-14.961 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-14.980 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-14.985 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-15.131 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-15.134 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-15.135 -07:00 [INF] Executed DbCommand (151ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-15.139 -07:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-46-15.141 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-46-15.181 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 219.4691ms
][2023-10-31 17-46-15.181 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1161 ms
][2023-10-31 17-46-15.181 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-46-15.181 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-46-15.247 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 285.4482ms
][2023-10-31 17-46-15.247 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-46-15.247 -07:00 [ERR] Connection ID "18302628895834243146", Request ID "8000004b-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-15.249 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1260.6659ms
][2023-10-31 17-46-15.254 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-46-15.254 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-15.334 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-15.335 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-15.336 -07:00 [INF] Request GET /api/Member/trainers completed in 220 ms
][2023-10-31 17-46-15.420 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-15.568 -07:00 [INF] Request GET /api/Member/member/1 completed in 376 ms
][2023-10-31 17-46-15.747 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-15.747 -07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-46-15.748 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-15.754 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 792.9154ms
][2023-10-31 17-46-15.823 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-15.866 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 863 ms
][2023-10-31 17-46-15.923 -07:00 [INF] Executed DbCommand (486ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-46-15.923 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-15.988 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-15.990 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 655.3323ms
][2023-10-31 17-46-15.992 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-15.992 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-16.135 -07:00 [ERR] Connection ID "17942340917054668877", Request ID "8000004e-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-16.194 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 2196.0672ms
][2023-10-31 17-46-16.195 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-16.282 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 737 ms
][2023-10-31 17-46-16.287 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-16.402 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 2435.3178ms
][2023-10-31 17-46-16.402 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-16.498 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-46-16.498 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-16.502 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-16.502 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-16.502 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-16.583 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-16.644 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-16.710 -07:00 [INF] Executed DbCommand (139ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-46-16.715 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-16.719 -07:00 [ERR] Connection ID "18086456113720459322", Request ID "8000003b-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-16.722 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-46-16.722 -07:00 [ERR] Connection ID "18230571306091282447", Request ID "80000010-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-16.724 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1762.9153ms
][2023-10-31 17-46-16.725 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1764.1868ms
][2023-10-31 17-46-16.725 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-16.744 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-16.745 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-46-16.746 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-16.746 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-16.746 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-16.750 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-46-16.750 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-16.750 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-16.750 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-16.983 -07:00 [INF] Executed DbCommand (64ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-46-17.001 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-46-17.008 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 257.8233ms
][2023-10-31 17-46-17.008 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-46-17.008 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-17.034 -07:00 [INF] Executed DbCommand (234ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-46-17.036 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-46-17.065 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 258 ms
][2023-10-31 17-46-17.065 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 319.1682ms
][2023-10-31 17-46-17.065 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-46-17.120 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-17.233 -07:00 [ERR] Connection ID "18014398515387564083", Request ID "80000034-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-17.339 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2377.9325ms
][2023-10-31 17-46-17.343 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 593 ms
][2023-10-31 17-46-17.374 -07:00 [ERR] Connection ID "18158513699168452712", Request ID "80000069-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-17.376 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-17.376 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 2121.7389ms
][2023-10-31 17-46-17.438 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 936.0142ms
][2023-10-31 17-46-17.521 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-17.659 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-17.664 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1162 ms
][2023-10-31 17-46-17.666 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-17.719 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-17.969 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-46-17.973 -07:00 [ERR] Connection ID "17870283323016740938", Request ID "8000004b-0000-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-17.974 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-46-17.975 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1225.5706ms
][2023-10-31 17-46-17.989 -07:00 [ERR] Connection ID "18086456113720459324", Request ID "8000003d-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-46-17.992 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1247.2882ms
][2023-10-31 17-46-17.995 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-17.998 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1499.7863ms
][2023-10-31 17-46-18.006 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-46-18.007 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-18.007 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-18.007 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-18.050 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-46-18.054 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-46-18.268 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 260.9702ms
][2023-10-31 17-46-18.269 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-18.398 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 389 ms
][2023-10-31 17-46-18.720 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-18.722 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 715.1303ms
][2023-10-31 17-46-18.729 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-46-18.729 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-46-18.730 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-18.730 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-46-18.785 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-46-18.789 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-46-19.000 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 270.4913ms
][2023-10-31 17-46-19.001 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-46-19.140 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 408 ms
][2023-10-31 17-46-19.447 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-46-19.450 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 720.3550ms
][2023-10-31 17-47-03.469 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-47-03.469 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.469 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.4143ms
][2023-10-31 17-47-03.469 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-47-03.469 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.470 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3564ms
][2023-10-31 17-47-03.470 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-47-03.470 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.470 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.2931ms
][2023-10-31 17-47-03.470 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-47-03.470 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.471 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.6222ms
][2023-10-31 17-47-03.487 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-47-03.487 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.488 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-03.488 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-03.503 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-47-03.505 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.505 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-47-03.505 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.505 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-03.505 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-03.505 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-03.505 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-47-03.523 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-47-03.524 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-03.524 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-47-03.524 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-03.534 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-47-03.534 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-47-03.535 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 46.9301ms
][2023-10-31 17-47-03.535 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-03.537 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 47 ms
][2023-10-31 17-47-03.685 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-47-03.686 -07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-47-03.687 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-47-03.821 -07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-47-03.821 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-47-03.822 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-47-03.824 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 318.5408ms
][2023-10-31 17-47-03.824 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-03.825 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 300.7426ms
][2023-10-31 17-47-03.825 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-47-03.827 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 321.4598ms
][2023-10-31 17-47-03.827 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-03.828 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-03.830 -07:00 [INF] Request GET /api/Member/trainers completed in 319 ms
][2023-10-31 17-47-03.832 -07:00 [INF] Request GET /api/Manager/trainers completed in 322 ms
][2023-10-31 17-47-03.968 -07:00 [INF] Request GET /api/Member/member/1 completed in 301 ms
][2023-10-31 17-47-04.959 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-04.961 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-04.964 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-05.124 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-05.127 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-05.128 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-05.333 -07:00 [ERR] Connection ID "18014398515387564089", Request ID "8000003a-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-05.418 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1930.1627ms
][2023-10-31 17-47-05.420 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-05.424 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-05.429 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-05.435 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-05.436 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-05.441 -07:00 [ERR] Connection ID "18374686485577203754", Request ID "8000002b-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-05.443 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1937.8385ms
][2023-10-31 17-47-05.447 -07:00 [ERR] Connection ID "17870283327311708203", Request ID "8000002c-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-05.452 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1929.4897ms
][2023-10-31 17-47-05.465 -07:00 [ERR] Connection ID "17942340921349636117", Request ID "80000016-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-05.466 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1962.7593ms
][2023-10-31 17-47-05.467 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-47-05.467 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-05.467 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3964ms
][2023-10-31 17-47-05.471 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-47-05.472 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-05.473 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.7349ms
][2023-10-31 17-47-05.506 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-47-05.507 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-05.509 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.7906ms
][2023-10-31 17-47-05.522 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-47-05.522 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-47-05.522 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-05.522 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-05.522 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-47-05.522 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-05.523 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-05.523 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-05.523 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-05.523 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-05.531 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 8.1898ms
][2023-10-31 17-47-05.533 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-47-05.533 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-05.534 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-47-05.534 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-05.567 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-47-05.571 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-47-05.647 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-47-05.648 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-47-05.648 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-47-05.682 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-47-05.683 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 148.8027ms
][2023-10-31 17-47-05.683 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-47-05.724 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 149 ms
][2023-10-31 17-47-05.725 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 201.8596ms
][2023-10-31 17-47-05.727 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-05.817 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 204 ms
][2023-10-31 17-47-06.390 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 867.5938ms
][2023-10-31 17-47-06.391 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-06.396 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-06.397 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-06.904 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1379 ms
][2023-10-31 17-47-06.983 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-07.088 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-07.089 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-07.278 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-07.308 -07:00 [ERR] Connection ID "18230571306091282451", Request ID "80000014-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-07.308 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1786.2912ms
][2023-10-31 17-47-07.309 -07:00 [ERR] Connection ID "17870283335901642763", Request ID "8000000c-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-07.310 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1776.9284ms
][2023-10-31 17-47-07.329 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-07.332 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 1809.6509ms
][2023-10-31 17-47-07.342 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-47-07.342 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-07.342 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-07.343 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-07.389 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-47-07.395 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 17-47-07.657 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 313.7178ms
][2023-10-31 17-47-07.657 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-07.837 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 492 ms
][2023-10-31 17-47-08.211 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-08.214 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 500 - application/json 871.9211ms
][2023-10-31 17-47-14.527 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0
][2023-10-31 17-47-14.528 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-14.528 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/rate-trainer/1/3 - 0 - 204 - - 0.4164ms
][2023-10-31 17-47-14.532 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 2
][2023-10-31 17-47-14.532 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-14.532 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.RateTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-14.535 -07:00 [INF] Route matched with {action = "RateTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateTrainer(Int32, Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-14.586 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-47-14.630 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-47-14.808 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Ratings] ([MemberId], [TrainerId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
][2023-10-31 17-47-14.842 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-47-14.842 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.RateTrainer (Napredne baze podataka API) in 306.7336ms
][2023-10-31 17-47-14.842 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.RateTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-14.846 -07:00 [INF] Request POST /api/Member/1/rate-trainer/1/3 completed in 310 ms
][2023-10-31 17-47-15.097 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-15.219 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-15.223 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-15.228 -07:00 [ERR] Connection ID "17942340921349636119", Request ID "80000018-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-15.229 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Member/1/rate-trainer/1/3 application/json 2 - 200 - application/json;+charset=utf-8 696.9305ms
][2023-10-31 17-47-23.651 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-47-23.651 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-47-23.651 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.651 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.651 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3459ms
][2023-10-31 17-47-23.651 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.4284ms
][2023-10-31 17-47-23.652 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-47-23.652 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.652 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.3505ms
][2023-10-31 17-47-23.652 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-47-23.653 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.653 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.2309ms
][2023-10-31 17-47-23.668 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-47-23.669 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.669 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-47-23.669 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.669 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-47-23.669 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-23.669 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-23.669 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-47-23.679 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-47-23.679 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.680 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-23.680 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-47-23.680 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-23.680 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-23.680 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-23.680 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-23.716 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-47-23.717 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-47-23.719 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 49.7411ms
][2023-10-31 17-47-23.719 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-23.722 -07:00 [INF] Request GET /api/Manager/trainers completed in 50 ms
][2023-10-31 17-47-23.781 -07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-47-23.783 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-47-23.889 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-47-23.923 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 253.3837ms
][2023-10-31 17-47-23.923 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-47-23.923 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-47-23.989 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 309.6872ms
][2023-10-31 17-47-23.989 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-24.079 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-47-24.105 -07:00 [INF] Request GET /api/Member/member/1 completed in 253 ms
][2023-10-31 17-47-24.105 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-47-24.113 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 310 ms
][2023-10-31 17-47-24.225 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 544.5728ms
][2023-10-31 17-47-24.225 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-24.556 -07:00 [INF] Request GET /api/Member/trainers completed in 545 ms
][2023-10-31 17-47-24.557 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-25.320 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-25.322 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-25.545 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-25.633 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-25.707 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-25.801 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-25.805 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-25.808 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-25.810 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-25.814 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-25.816 -07:00 [ERR] Connection ID "17870283335901642765", Request ID "8000000e-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-25.817 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2148.2305ms
][2023-10-31 17-47-25.825 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-25.829 -07:00 [ERR] Connection ID "18230571306091282453", Request ID "80000016-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-25.832 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2163.2669ms
][2023-10-31 17-47-25.834 -07:00 [ERR] Connection ID "18302628895834243152", Request ID "80000051-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-25.836 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2157.0509ms
][2023-10-31 17-47-25.848 -07:00 [ERR] Connection ID "18374686489872171046", Request ID "80000027-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-25.849 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2169.8490ms
][2023-10-31 17-47-25.853 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-47-25.853 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-47-25.853 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-25.853 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-25.853 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.2640ms
][2023-10-31 17-47-25.854 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.4201ms
][2023-10-31 17-47-25.863 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-47-25.863 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-25.864 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-47-25.864 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-25.865 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-47-25.865 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-25.865 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-25.865 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-25.903 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-47-25.903 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-25.905 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.5031ms
][2023-10-31 17-47-25.905 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-47-25.906 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-25.909 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 4.0922ms
][2023-10-31 17-47-25.910 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-47-25.910 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-25.911 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-25.911 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-25.921 -07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-47-25.922 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-47-25.922 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 58.24ms
][2023-10-31 17-47-25.922 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-47-25.925 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 59 ms
][2023-10-31 17-47-26.088 -07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-47-26.089 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-47-26.091 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-47-26.156 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 290.9045ms
][2023-10-31 17-47-26.156 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-47-26.245 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 291 ms
][2023-10-31 17-47-26.496 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-47-26.496 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-26.735 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-26.736 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-26.878 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-26.882 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-26.882 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 970.7759ms
][2023-10-31 17-47-26.885 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-26.889 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-26.889 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-47-26.889 -07:00 [ERR] Connection ID "17942340921349636125", Request ID "8000001e-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-26.891 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-26.892 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 974 ms
][2023-10-31 17-47-26.893 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1029.5134ms
][2023-10-31 17-47-26.893 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-26.893 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-47-26.963 -07:00 [ERR] Connection ID "17942340917054668885", Request ID "80000056-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-27.036 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1171.2289ms
][2023-10-31 17-47-27.045 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-47-27.188 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-47-27.188 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 295.6184ms
][2023-10-31 17-47-27.188 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-47-27.191 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 296 ms
][2023-10-31 17-47-27.269 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-27.497 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-27.497 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-27.537 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-27.601 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-27.603 -07:00 [ERR] Connection ID "18374686489872171048", Request ID "80000029-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-27.604 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-27.605 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1695.8292ms
][2023-10-31 17-47-27.616 -07:00 [ERR] Connection ID "18374686485577203762", Request ID "80000033-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-27.617 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 727.9928ms
][2023-10-31 17-47-38.108 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 17-47-38.108 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-38.109 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.3453ms
][2023-10-31 17-47-38.113 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 17-47-38.113 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-47-38.113 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-38.113 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-47-38.165 -07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-47-38.166 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-47-38.167 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 53.1423ms
][2023-10-31 17-47-38.167 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-47-38.169 -07:00 [INF] Request GET /api/Manager/trainers completed in 53 ms
][2023-10-31 17-47-38.411 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-47-38.537 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-47-38.540 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-47-38.546 -07:00 [ERR] Connection ID "17942340917054668887", Request ID "80000058-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-47-38.546 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 433.5107ms
][2023-10-31 17-48-07.041 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-48-07.041 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.045 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 4.1298ms
][2023-10-31 17-48-07.045 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-48-07.045 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.045 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.2418ms
][2023-10-31 17-48-07.045 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-48-07.045 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.045 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.2473ms
][2023-10-31 17-48-07.046 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-48-07.046 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.046 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.2394ms
][2023-10-31 17-48-07.056 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-48-07.056 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.056 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-07.057 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-48-07.060 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-48-07.060 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.061 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-07.061 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-07.063 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-48-07.063 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.064 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-48-07.064 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-07.093 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-48-07.093 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-07.094 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-07.095 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-07.106 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-48-07.110 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-48-07.112 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-48-07.113 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-48-07.113 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 52.53ms
][2023-10-31 17-48-07.113 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-07.119 -07:00 [INF] Request GET /api/Member/trainers completed in 53 ms
][2023-10-31 17-48-07.120 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 62.9582ms
][2023-10-31 17-48-07.120 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-07.214 -07:00 [INF] Request GET /api/Manager/trainers completed in 65 ms
][2023-10-31 17-48-07.464 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-48-07.467 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-48-07.546 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 451.0181ms
][2023-10-31 17-48-07.546 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-07.690 -07:00 [INF] Executed DbCommand (450ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-48-07.777 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-48-07.779 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 452 ms
][2023-10-31 17-48-07.780 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 716.3238ms
][2023-10-31 17-48-07.780 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-48-07.964 -07:00 [INF] Request GET /api/Member/member/1 completed in 716 ms
][2023-10-31 17-48-08.363 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-08.459 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-08.921 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-08.922 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-08.924 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-09.245 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-09.246 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-09.250 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-09.250 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-09.256 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-09.256 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-09.260 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-09.266 -07:00 [ERR] Connection ID "17870283327311708213", Request ID "80000036-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-09.300 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2244.1933ms
][2023-10-31 17-48-09.299 -07:00 [ERR] Connection ID "17942340921349636129", Request ID "80000022-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-09.300 -07:00 [ERR] Connection ID "18374686485577203768", Request ID "80000039-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-09.304 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2211.0353ms
][2023-10-31 17-48-09.305 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2244.9749ms
][2023-10-31 17-48-09.307 -07:00 [ERR] Connection ID "18014398515387564093", Request ID "8000003e-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-09.308 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2244.9394ms
][2023-10-31 17-48-09.345 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-48-09.345 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-48-09.345 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.345 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.345 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3763ms
][2023-10-31 17-48-09.345 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-48-09.346 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.346 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.9267ms
][2023-10-31 17-48-09.347 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-48-09.347 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.348 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.6311ms
][2023-10-31 17-48-09.356 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 9.0047ms
][2023-10-31 17-48-09.362 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-48-09.362 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.363 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-09.363 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-09.365 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-48-09.365 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-48-09.365 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.365 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.365 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-48-09.365 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-09.366 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-09.366 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-09.410 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-48-09.411 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-48-09.413 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 49.7887ms
][2023-10-31 17-48-09.413 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-09.417 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-48-09.418 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-48-09.419 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-48-09.421 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-48-09.421 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-09.421 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-48-09.423 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 50 ms
][2023-10-31 17-48-09.423 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-09.423 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-09.423 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 57.3134ms
][2023-10-31 17-48-09.423 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-09.425 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 59.3498ms
][2023-10-31 17-48-09.426 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-48-09.492 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 58 ms
][2023-10-31 17-48-09.809 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 61 ms
][2023-10-31 17-48-09.897 -07:00 [INF] Executed DbCommand (157ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-48-10.267 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-10.268 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-48-10.363 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 939.4862ms
][2023-10-31 17-48-10.363 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-10.437 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-10.531 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1015 ms
][2023-10-31 17-48-10.598 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-10.819 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-10.850 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-10.953 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-10.956 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-10.957 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-10.978 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-11.001 -07:00 [ERR] Connection ID "18230571306091282455", Request ID "80000018-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-11.001 -07:00 [ERR] Connection ID "18014398515387564097", Request ID "80000042-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-11.003 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1640.3735ms
][2023-10-31 17-48-11.007 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-11.009 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1642.4630ms
][2023-10-31 17-48-11.012 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-11.017 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-11.020 -07:00 [ERR] Connection ID "17870283327311708217", Request ID "8000003a-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-11.022 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1656.8074ms
][2023-10-31 17-48-11.032 -07:00 [ERR] Connection ID "17942340921349636133", Request ID "80000026-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-11.034 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1613.1918ms
][2023-10-31 17-48-26.275 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-48-26.275 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-48-26.275 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.275 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.275 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.4425ms
][2023-10-31 17-48-26.276 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-48-26.276 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.276 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.1605ms
][2023-10-31 17-48-26.275 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.2527ms
][2023-10-31 17-48-26.277 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-48-26.277 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.278 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.8055ms
][2023-10-31 17-48-26.289 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-48-26.289 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.289 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-48-26.289 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.289 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-26.289 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-26.289 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-26.289 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-26.296 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-48-26.296 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.296 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-26.297 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-48-26.299 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-48-26.299 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-26.300 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-48-26.300 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-26.391 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-48-26.392 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-48-26.392 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 102.6951ms
][2023-10-31 17-48-26.392 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-26.395 -07:00 [INF] Request GET /api/Member/trainers completed in 103 ms
][2023-10-31 17-48-26.398 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-48-26.601 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-48-26.603 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-48-26.603 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-48-26.606 -07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-48-26.606 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 305.8987ms
][2023-10-31 17-48-26.606 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-48-26.607 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-48-26.681 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 384.0148ms
][2023-10-31 17-48-26.681 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 391.2062ms
][2023-10-31 17-48-26.681 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-26.681 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-26.771 -07:00 [INF] Request GET /api/Member/member/1 completed in 307 ms
][2023-10-31 17-48-26.775 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 391 ms
][2023-10-31 17-48-26.898 -07:00 [INF] Request GET /api/Manager/trainers completed in 385 ms
][2023-10-31 17-48-27.182 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-27.863 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-27.863 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-27.938 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-28.030 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-28.034 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-28.340 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-28.345 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-28.345 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-28.348 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-28.353 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-28.355 -07:00 [ERR] Connection ID "17870283327311708219", Request ID "8000003c-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-28.357 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-28.359 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2069.4227ms
][2023-10-31 17-48-28.365 -07:00 [ERR] Connection ID "18374686485577203772", Request ID "8000003d-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-28.366 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2067.1641ms
][2023-10-31 17-48-28.371 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-48-28.371 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.372 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.2207ms
][2023-10-31 17-48-28.380 -07:00 [ERR] Connection ID "17942340921349636135", Request ID "80000028-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-28.380 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2091.6198ms
][2023-10-31 17-48-28.390 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-48-28.390 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.390 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3618ms
][2023-10-31 17-48-28.390 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-48-28.390 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.392 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-48-28.392 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-28.392 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.392 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-28.392 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.6773ms
][2023-10-31 17-48-28.394 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-48-28.394 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.395 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.8094ms
][2023-10-31 17-48-28.403 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-48-28.403 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.404 -07:00 [ERR] Connection ID "18014398515387564099", Request ID "80000044-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-28.405 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-48-28.406 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-28.406 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2110.1269ms
][2023-10-31 17-48-28.406 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-48-28.406 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.407 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-28.407 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-28.444 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-48-28.445 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-48-28.445 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 53.5098ms
][2023-10-31 17-48-28.446 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-28.451 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 54 ms
][2023-10-31 17-48-28.453 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-48-28.522 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-48-28.522 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-28.523 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-28.524 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-48-28.524 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-28.605 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-48-28.606 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 200.7896ms
][2023-10-31 17-48-28.607 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-48-28.607 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-48-28.682 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 203 ms
][2023-10-31 17-48-28.831 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 423.8869ms
][2023-10-31 17-48-28.831 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-28.924 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 424 ms
][2023-10-31 17-48-28.992 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-29.522 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-29.524 -07:00 [INF] Executed DbCommand (837ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-48-29.594 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-48-29.598 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 992.83ms
][2023-10-31 17-48-29.687 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-29.690 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-29.690 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-29.690 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1164 ms
][2023-10-31 17-48-29.882 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-29.962 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-30.022 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-30.108 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-30.110 -07:00 [ERR] Connection ID "18230571293206380613", Request ID "80000046-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-30.110 -07:00 [ERR] Connection ID "18374686489872171050", Request ID "8000002b-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-30.111 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1720.5431ms
][2023-10-31 17-48-30.112 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1709.3599ms
][2023-10-31 17-48-30.126 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-30.208 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-30.295 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-30.296 -07:00 [ERR] Connection ID "18302628895834243154", Request ID "80000053-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-30.298 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-30.299 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1892.5147ms
][2023-10-31 17-48-30.311 -07:00 [ERR] Connection ID "18086456105130524716", Request ID "8000002d-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-30.312 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1859.3783ms
][2023-10-31 17-48-40.208 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-48-40.208 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.208 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3342ms
][2023-10-31 17-48-40.209 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-48-40.209 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.210 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 1.4078ms
][2023-10-31 17-48-40.211 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-48-40.211 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.211 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3986ms
][2023-10-31 17-48-40.211 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-48-40.211 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.213 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.2542ms
][2023-10-31 17-48-40.227 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-48-40.227 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.228 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-48-40.228 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.228 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-40.228 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-40.228 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-40.228 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-48-40.229 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-48-40.230 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.231 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-48-40.231 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-40.239 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-48-40.239 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-40.239 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-40.239 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-40.275 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-48-40.277 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-48-40.278 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-48-40.278 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-48-40.278 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 50.0243ms
][2023-10-31 17-48-40.278 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-40.281 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 50 ms
][2023-10-31 17-48-40.360 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 132.2198ms
][2023-10-31 17-48-40.360 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-40.460 -07:00 [INF] Request GET /api/Manager/trainers completed in 132 ms
][2023-10-31 17-48-40.534 -07:00 [INF] Executed DbCommand (222ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-48-40.666 -07:00 [INF] Executed DbCommand (217ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-48-40.666 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-48-40.666 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-48-40.747 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 506.7759ms
][2023-10-31 17-48-40.748 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-48-40.748 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 516.565ms
][2023-10-31 17-48-40.748 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-48-41.002 -07:00 [INF] Request GET /api/Member/trainers completed in 508 ms
][2023-10-31 17-48-41.080 -07:00 [INF] Request GET /api/Member/member/1 completed in 518 ms
][2023-10-31 17-48-41.366 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-41.367 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-41.896 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-41.896 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-41.898 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-41.971 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-42.126 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-42.211 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-42.215 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-42.220 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-42.221 -07:00 [ERR] Connection ID "18374686485577203778", Request ID "80000043-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-42.222 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-42.225 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1996.9336ms
][2023-10-31 17-48-42.227 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-42.230 -07:00 [ERR] Connection ID "17942340921349636139", Request ID "8000002c-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-42.232 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2005.0132ms
][2023-10-31 17-48-42.238 -07:00 [ERR] Connection ID "18230571306091282457", Request ID "8000001a-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-42.239 -07:00 [ERR] Connection ID "18014398515387564103", Request ID "80000048-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-42.239 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2000.1360ms
][2023-10-31 17-48-42.240 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2010.4157ms
][2023-10-31 17-48-42.269 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-48-42.270 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.275 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 5.2428ms
][2023-10-31 17-48-42.276 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-48-42.276 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.277 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-48-42.277 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.277 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.9803ms
][2023-10-31 17-48-42.277 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-48-42.277 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.4103ms
][2023-10-31 17-48-42.277 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.277 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.2776ms
][2023-10-31 17-48-42.283 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-48-42.284 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.285 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-42.285 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-42.286 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-48-42.286 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-48-42.286 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.286 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.286 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-42.286 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-48-42.286 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-42.286 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-42.334 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-48-42.335 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-48-42.336 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-48-42.339 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-48-42.340 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-48-42.340 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 55.0006ms
][2023-10-31 17-48-42.340 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-42.340 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 53.9822ms
][2023-10-31 17-48-42.341 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-48-42.341 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-48-42.344 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 56 ms
][2023-10-31 17-48-42.346 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 59.7077ms
][2023-10-31 17-48-42.346 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-48-42.412 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 56 ms
][2023-10-31 17-48-42.414 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-48-42.497 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-48-42.575 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 60 ms
][2023-10-31 17-48-42.576 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-42.576 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-48-43.260 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-43.270 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-43.416 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-43.481 -07:00 [INF] Executed DbCommand (397ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-48-43.482 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-48-43.548 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 972.2738ms
][2023-10-31 17-48-43.549 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-48-43.553 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-43.739 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-43.740 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1240 ms
][2023-10-31 17-48-43.746 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-43.747 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-43.796 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-43.815 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-43.861 -07:00 [ERR] Connection ID "18374686489872171052", Request ID "8000002d-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-43.862 -07:00 [ERR] Connection ID "18230571306091282459", Request ID "8000001c-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-43.864 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1578.2134ms
][2023-10-31 17-48-43.864 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-48-43.866 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1582.4736ms
][2023-10-31 17-48-43.876 -07:00 [ERR] Connection ID "18302628895834243158", Request ID "80000057-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-43.877 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1591.2622ms
][2023-10-31 17-48-43.933 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-48-43.938 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-48-43.944 -07:00 [ERR] Connection ID "17870283335901642767", Request ID "80000010-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-48-43.945 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1530.6823ms
][2023-10-31 17-49-25.604 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-49-25.604 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.605 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3980ms
][2023-10-31 17-49-25.608 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-49-25.608 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.609 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-25.609 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-25.619 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-49-25.619 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.620 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.2978ms
][2023-10-31 17-49-25.623 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-49-25.623 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.623 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-25.624 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-25.630 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-49-25.630 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.630 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.3086ms
][2023-10-31 17-49-25.634 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-49-25.635 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.635 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-49-25.635 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-25.648 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-49-25.648 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.649 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3653ms
][2023-10-31 17-49-25.653 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-49-25.653 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-25.654 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-25.654 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-49-25.659 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-49-25.661 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-49-25.662 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 52.8239ms
][2023-10-31 17-49-25.662 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-25.664 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 53 ms
][2023-10-31 17-49-25.728 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-49-25.804 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-49-25.808 -07:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-49-25.808 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 183.889ms
][2023-10-31 17-49-25.808 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-25.809 -07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-49-25.810 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-49-25.810 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-49-25.812 -07:00 [INF] Request GET /api/Member/trainers completed in 184 ms
][2023-10-31 17-49-25.813 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 177.9232ms
][2023-10-31 17-49-25.813 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-49-26.015 -07:00 [INF] Request GET /api/Member/member/1 completed in 178 ms
][2023-10-31 17-49-26.150 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 496.6146ms
][2023-10-31 17-49-26.284 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-26.364 -07:00 [INF] Request GET /api/Manager/trainers completed in 630 ms
][2023-10-31 17-49-26.559 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-26.663 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-26.800 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-27.296 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-27.296 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-27.302 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-27.302 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-27.304 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-27.307 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-27.311 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-27.636 -07:00 [ERR] Connection ID "18014398515387564107", Request ID "8000004c-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-27.639 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2030.5052ms
][2023-10-31 17-49-27.641 -07:00 [ERR] Connection ID "17870283335901642769", Request ID "80000012-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-27.644 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2008.6427ms
][2023-10-31 17-49-27.645 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-27.649 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-27.649 -07:00 [ERR] Connection ID "18302628895834243162", Request ID "8000005b-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-27.651 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2027.8830ms
][2023-10-31 17-49-27.655 -07:00 [ERR] Connection ID "18374686489872171054", Request ID "8000002f-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-27.656 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2002.7647ms
][2023-10-31 17-49-27.676 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-49-27.676 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-27.677 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.3495ms
][2023-10-31 17-49-27.680 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-49-27.681 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-27.681 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-49-27.681 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-27.682 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-49-27.682 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-27.682 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.2919ms
][2023-10-31 17-49-27.687 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-49-27.687 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-27.688 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-27.688 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-27.721 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-49-27.721 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-27.721 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3357ms
][2023-10-31 17-49-27.725 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-49-27.725 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-49-27.725 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-49-27.726 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 44.2952ms
][2023-10-31 17-49-27.726 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-49-27.726 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-27.729 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-27.729 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-27.729 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 45 ms
][2023-10-31 17-49-27.811 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-49-27.812 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-49-27.904 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 216.3802ms
][2023-10-31 17-49-27.904 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-27.974 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 217 ms
][2023-10-31 17-49-28.072 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-49-28.072 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-49-28.264 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 535.3054ms
][2023-10-31 17-49-28.265 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-28.571 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-28.571 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-49-28.571 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 539 ms
][2023-10-31 17-49-28.572 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-28.573 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-28.643 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-28.929 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-29.076 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-29.163 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-29.167 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-29.227 -07:00 [INF] Executed DbCommand (299ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-49-29.308 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-49-29.308 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 664.6686ms
][2023-10-31 17-49-29.308 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-29.310 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-29.313 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 736 ms
][2023-10-31 17-49-29.313 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-29.373 -07:00 [ERR] Connection ID "17942340917054668899", Request ID "80000064-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-29.375 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-29.448 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-29.450 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1769.5813ms
][2023-10-31 17-49-29.577 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-29.580 -07:00 [ERR] Connection ID "17870283335901642773", Request ID "80000016-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-29.580 -07:00 [ERR] Connection ID "18014398515387564109", Request ID "8000004e-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-29.666 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1978.6697ms
][2023-10-31 17-49-29.664 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1938.5859ms
][2023-10-31 17-49-29.778 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-29.782 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-29.787 -07:00 [ERR] Connection ID "18230571306091282461", Request ID "8000001e-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-29.788 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1216.3517ms
][2023-10-31 17-49-35.855 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-49-35.855 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.858 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 3.5134ms
][2023-10-31 17-49-35.859 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-49-35.859 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-49-35.859 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.859 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.4311ms
][2023-10-31 17-49-35.859 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-49-35.859 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.860 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.2251ms
][2023-10-31 17-49-35.861 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.862 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 3.2090ms
][2023-10-31 17-49-35.882 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-49-35.882 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-49-35.883 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-49-35.883 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.883 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.883 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-35.883 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-35.883 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-49-35.883 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-35.883 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.883 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-35.883 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-35.887 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-49-35.887 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-35.887 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-49-35.887 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-35.931 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-49-35.933 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-49-35.935 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 51.8245ms
][2023-10-31 17-49-35.935 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-35.938 -07:00 [INF] Request GET /api/Member/trainers completed in 52 ms
][2023-10-31 17-49-36.112 -07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-49-36.116 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-49-36.119 -07:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-49-36.189 -07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-49-36.189 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-49-36.190 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-49-36.190 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 302.7002ms
][2023-10-31 17-49-36.190 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-49-36.283 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 399.0785ms
][2023-10-31 17-49-36.283 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-36.283 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 378.2795ms
][2023-10-31 17-49-36.286 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-36.286 -07:00 [INF] Request GET /api/Member/member/1 completed in 303 ms
][2023-10-31 17-49-36.289 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 399 ms
][2023-10-31 17-49-36.490 -07:00 [INF] Request GET /api/Manager/trainers completed in 402 ms
][2023-10-31 17-49-37.302 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-37.721 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-37.725 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-37.728 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-38.207 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-38.211 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-38.215 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-38.216 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-38.220 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-38.222 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-38.247 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-38.249 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-38.254 -07:00 [ERR] Connection ID "18230571306091282463", Request ID "80000020-0003-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-38.255 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2373.0169ms
][2023-10-31 17-49-38.257 -07:00 [ERR] Connection ID "17942340929939570701", Request ID "8000000e-0003-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-38.260 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2373.3034ms
][2023-10-31 17-49-38.261 -07:00 [ERR] Connection ID "17798225741863714837", Request ID "80000016-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-38.262 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2379.4922ms
][2023-10-31 17-49-38.270 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-49-38.271 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.271 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.5192ms
][2023-10-31 17-49-38.273 -07:00 [ERR] Connection ID "17870283335901642775", Request ID "80000018-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-38.277 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2392.4631ms
][2023-10-31 17-49-38.278 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-49-38.279 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.284 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 5.5495ms
][2023-10-31 17-49-38.291 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-49-38.291 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.291 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.3370ms
][2023-10-31 17-49-38.291 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-49-38.291 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.292 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.1721ms
][2023-10-31 17-49-38.293 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-49-38.293 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.294 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-38.294 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-38.305 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-49-38.306 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.319 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-38.320 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-38.322 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-49-38.322 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.322 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-49-38.322 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-38.351 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-49-38.352 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-49-38.352 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 57.4539ms
][2023-10-31 17-49-38.353 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-38.357 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 59 ms
][2023-10-31 17-49-38.359 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-49-38.359 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-38.440 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-38.440 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-38.527 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-49-38.597 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-49-38.599 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-49-38.599 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-49-38.684 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 363.5852ms
][2023-10-31 17-49-38.684 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-38.686 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 363.6957ms
][2023-10-31 17-49-38.686 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-49-38.689 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 378 ms
][2023-10-31 17-49-38.693 -07:00 [INF] Executed DbCommand (160ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-49-38.754 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-49-38.841 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 364 ms
][2023-10-31 17-49-38.843 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 403.1617ms
][2023-10-31 17-49-38.843 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-39.129 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 484 ms
][2023-10-31 17-49-39.130 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-39.640 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-39.891 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-40.044 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-40.047 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-40.047 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-40.049 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-40.118 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-40.120 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-40.208 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-40.211 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-40.216 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-40.217 -07:00 [ERR] Connection ID "18086456105130524722", Request ID "80000033-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-40.218 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1925.2805ms
][2023-10-31 17-49-40.221 -07:00 [ERR] Connection ID "18014398515387564113", Request ID "80000052-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-40.223 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1917.4260ms
][2023-10-31 17-49-40.239 -07:00 [ERR] Connection ID "17942340917054668905", Request ID "8000006a-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-40.241 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1919.1466ms
][2023-10-31 17-49-40.257 -07:00 [ERR] Connection ID "18230571293206380617", Request ID "8000004a-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-40.258 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1899.5757ms
][2023-10-31 17-49-52.703 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0
][2023-10-31 17-49-52.704 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-52.704 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Login/PostLoginDetails - 0 - 204 - - 0.4343ms
][2023-10-31 17-49-52.708 -07:00 [INF] Request starting HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88
][2023-10-31 17-49-52.708 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-52.708 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 17-49-52.708 -07:00 [INF] Route matched with {action = "PostLoginDetails", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLoginDetails(Napredne_baze_podataka_API.Models.UserData) on controller Napredne_baze_podataka_API.Controllers.LoginController (Napredne baze podataka API).
][2023-10-31 17-49-52.758 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[ID], [a].[AccessToken], [a].[BirthDate], [a].[Email], [a].[FirstName], [a].[LastName], [a].[Password], [a].[PhoneNumber], [a].[RefreshToken], [a].[RegistrationDate], [a].[Role], [a].[UserName]
FROM [Administrators] AS [a]
WHERE [a].[Email] = @___userData_Email_0 AND [a].[Password] = @___userData_Password_1
][2023-10-31 17-49-52.807 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[UserName]
FROM [Managers] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 17-49-52.857 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[Email] = @___userData_Email_0 AND [m].[Password] = @___userData_Password_1
][2023-10-31 17-49-52.906 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ID], [r].[AccessToken], [r].[BirthDate], [r].[Email], [r].[FirstName], [r].[LastName], [r].[Password], [r].[PhoneNumber], [r].[RefreshToken], [r].[RegistrationDate], [r].[Role], [r].[UserName]
FROM [Receptionists] AS [r]
WHERE [r].[Email] = @___userData_Email_0 AND [r].[Password] = @___userData_Password_1
][2023-10-31 17-49-52.953 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sellers] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 17-49-53.001 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ID], [s].[AccessToken], [s].[BirthDate], [s].[Email], [s].[FirstName], [s].[LastName], [s].[Password], [s].[PhoneNumber], [s].[RefreshToken], [s].[RegistrationDate], [s].[Role], [s].[UserName]
FROM [Sponsors] AS [s]
WHERE [s].[Email] = @___userData_Email_0 AND [s].[Password] = @___userData_Password_1
][2023-10-31 17-49-53.049 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@___userData_Email_0='?' (Size = 4000), @___userData_Password_1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[Email] = @___userData_Email_0 AND [t].[Password] = @___userData_Password_1
][2023-10-31 17-49-53.099 -07:00 [INF] Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Members] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [ID] = @p1;
][2023-10-31 17-49-53.100 -07:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'.
][2023-10-31 17-49-53.100 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API) in 392.5521ms
][2023-10-31 17-49-53.101 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.LoginController.PostLoginDetails (Napredne baze podataka API)'
][2023-10-31 17-49-53.104 -07:00 [INF] Request POST /api/Login/PostLoginDetails completed in 393 ms
][2023-10-31 17-49-53.394 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-53.529 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-53.532 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-53.536 -07:00 [ERR] Connection ID "18302628895834243170", Request ID "80000063-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-53.537 -07:00 [INF] Request finished HTTP/1.1 POST http://localhost:55936/api/Login/PostLoginDetails application/json 88 - 200 - application/json;+charset=utf-8 829.2624ms
][2023-10-31 17-49-53.581 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 17-49-53.581 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.581 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.5849ms
][2023-10-31 17-49-53.587 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 17-49-53.587 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.588 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.3521ms
][2023-10-31 17-49-53.589 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 17-49-53.589 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.590 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-53.590 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-53.593 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 17-49-53.593 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.593 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-53.593 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-53.593 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 17-49-53.594 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.596 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 1.3740ms
][2023-10-31 17-49-53.600 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 17-49-53.600 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.602 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 17-49-53.602 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-49-53.602 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.602 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-53.602 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.8875ms
][2023-10-31 17-49-53.609 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 17-49-53.609 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-53.609 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-53.610 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 17-49-53.640 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-49-53.640 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-49-53.641 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 50.5739ms
][2023-10-31 17-49-53.641 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-53.643 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 51 ms
][2023-10-31 17-49-53.831 -07:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-49-53.832 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-49-53.835 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 241.7923ms
][2023-10-31 17-49-53.835 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-53.957 -07:00 [INF] Request GET /api/Member/trainers completed in 242 ms
][2023-10-31 17-49-54.336 -07:00 [INF] Executed DbCommand (669ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 17-49-54.338 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 17-49-54.425 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 822.921ms
][2023-10-31 17-49-54.425 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 17-49-54.427 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-54.431 -07:00 [INF] Executed DbCommand (727ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 17-49-54.492 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-54.492 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 17-49-54.492 -07:00 [INF] Request GET /api/Member/member/1 completed in 824 ms
][2023-10-31 17-49-54.756 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-54.823 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 1213.514ms
][2023-10-31 17-49-54.823 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 17-49-54.827 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-54.946 -07:00 [INF] Request GET /api/Manager/trainers completed in 1214 ms
][2023-10-31 17-49-55.011 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-55.077 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-55.078 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-55.248 -07:00 [ERR] Connection ID "18302628895834243172", Request ID "80000065-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-55.323 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1734.5404ms
][2023-10-31 17-49-55.329 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-55.333 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-55.401 -07:00 [ERR] Connection ID "18230571293206380621", Request ID "8000004e-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-55.491 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-55.492 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1899.4687ms
][2023-10-31 17-49-55.503 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-55.517 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-49-55.517 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.517 -07:00 [ERR] Connection ID "17870283335901642779", Request ID "8000001c-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-55.519 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1919.1595ms
][2023-10-31 17-49-55.517 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 17-49-55.520 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.522 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 5.2550ms
][2023-10-31 17-49-55.522 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 5.7023ms
][2023-10-31 17-49-55.534 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 17-49-55.534 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.536 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.7002ms
][2023-10-31 17-49-55.551 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-55.555 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-49-55.555 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.556 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-55.556 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-55.558 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 17-49-55.558 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.559 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-55.559 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-55.564 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 17-49-55.564 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.567 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 2.7711ms
][2023-10-31 17-49-55.575 -07:00 [ERR] Connection ID "17942340921349636147", Request ID "80000034-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-55.575 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 17-49-55.576 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.576 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1966.6875ms
][2023-10-31 17-49-55.576 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-49-55.577 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-55.604 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-49-55.605 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-49-55.605 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 49.2469ms
][2023-10-31 17-49-55.605 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-55.608 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 49 ms
][2023-10-31 17-49-55.610 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 17-49-55.677 -07:00 [INF] CORS policy execution successful.
][2023-10-31 17-49-55.677 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-55.678 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 17-49-55.764 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 17-49-55.764 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 17-49-55.832 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 17-49-55.832 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 255.5654ms
][2023-10-31 17-49-55.832 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 17-49-55.833 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 17-49-55.926 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 366.6824ms
][2023-10-31 17-49-55.926 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 17-49-55.927 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 256 ms
][2023-10-31 17-49-55.929 -07:00 [INF] Executed DbCommand (69ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 17-49-56.066 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 369 ms
][2023-10-31 17-49-56.214 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-56.609 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 17-49-56.612 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 933.9004ms
][2023-10-31 17-49-56.612 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 17-49-56.612 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-56.661 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-56.797 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-56.858 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 935 ms
][2023-10-31 17-49-56.862 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-56.908 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-56.912 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-56.913 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-56.971 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-56.975 -07:00 [ERR] Connection ID "18230571293206380623", Request ID "80000050-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-56.978 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1422.3560ms
][2023-10-31 17-49-56.978 -07:00 [ERR] Connection ID "18374686485577203780", Request ID "80000045-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-56.980 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1405.4631ms
][2023-10-31 17-49-56.982 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 17-49-57.061 -07:00 [ERR] Connection ID "17942340917054668909", Request ID "8000006e-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-57.063 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1504.9205ms
][2023-10-31 17-49-57.066 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 17-49-57.071 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 17-49-57.078 -07:00 [ERR] Connection ID "17942340921349636149", Request ID "80000036-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 17-49-57.079 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1468.9306ms
][2023-10-31 18-13-49.895 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Sponsor/list-ads - 0
][2023-10-31 18-13-49.895 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-49.896 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Sponsor/list-ads - 0 - 204 - - 0.5846ms
][2023-10-31 18-13-49.900 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Sponsor/list-ads - -
][2023-10-31 18-13-49.900 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-49.901 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API)'
][2023-10-31 18-13-49.902 -07:00 [INF] Route matched with {action = "ListAds", controller = "Sponsor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListAds() on controller Napredne_baze_podataka_API.Controllers.SponsorController (Napredne baze podataka API).
][2023-10-31 18-13-50.295 -07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[IsMain], [a].[PublicId], [a].[SponsorId], [a].[Title], [a].[Url]
FROM [Advertisements] AS [a]
][2023-10-31 18-13-50.296 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.Models.Advertisement, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-13-50.296 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API) in 394.4112ms
][2023-10-31 18-13-50.296 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API)'
][2023-10-31 18-13-50.299 -07:00 [INF] Request GET /api/Sponsor/list-ads completed in 396 ms
][2023-10-31 18-13-50.527 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-50.633 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-50.637 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-50.645 -07:00 [ERR] Connection ID "18014398515387564123", Request ID "8000005c-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-50.645 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Sponsor/list-ads - - - 200 - application/json;+charset=utf-8 745.6736ms
][2023-10-31 18-13-50.780 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 18-13-50.781 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.783 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 2.5940ms
][2023-10-31 18-13-50.785 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 18-13-50.786 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.786 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.3891ms
][2023-10-31 18-13-50.790 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 18-13-50.791 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.792 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-13-50.792 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-13-50.801 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 18-13-50.802 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.803 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-13-50.804 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-13-50.805 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 18-13-50.805 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.811 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 5.7440ms
][2023-10-31 18-13-50.814 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 18-13-50.814 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.818 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 3.2614ms
][2023-10-31 18-13-50.818 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-13-50.823 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.824 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 18-13-50.824 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-13-50.825 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-13-50.825 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-50.827 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-13-50.827 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-13-50.850 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-13-50.850 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-13-50.852 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 59.2025ms
][2023-10-31 18-13-50.852 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-13-50.857 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 61 ms
][2023-10-31 18-13-51.189 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-51.329 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-13-51.331 -07:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-13-51.331 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-13-51.332 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 528.0512ms
][2023-10-31 18-13-51.332 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-13-51.332 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-13-51.337 -07:00 [INF] Request GET /api/Member/trainers completed in 530 ms
][2023-10-31 18-13-51.339 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-51.488 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 662.4771ms
][2023-10-31 18-13-51.488 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-51.489 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-13-51.547 -07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-13-51.548 -07:00 [INF] Request GET /api/Manager/trainers completed in 665 ms
][2023-10-31 18-13-51.549 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 18-13-51.626 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 798.4766ms
][2023-10-31 18-13-51.626 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-13-51.686 -07:00 [INF] Request GET /api/Member/member/1 completed in 800 ms
][2023-10-31 18-13-51.781 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-51.911 -07:00 [ERR] Connection ID "18014398515387564125", Request ID "8000005e-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-52.080 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1289.6750ms
][2023-10-31 18-13-52.238 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-52.241 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-52.297 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-52.358 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-52.360 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-52.488 -07:00 [ERR] Connection ID "17870283327311708221", Request ID "8000003e-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-52.488 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-52.489 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1687.5461ms
][2023-10-31 18-13-52.496 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-52.500 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-13-52.505 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.505 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-52.506 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 5.8694ms
][2023-10-31 18-13-52.510 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-13-52.510 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.511 -07:00 [ERR] Connection ID "18302628895834243180", Request ID "8000006d-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-52.513 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 2.4159ms
][2023-10-31 18-13-52.514 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1696.0020ms
][2023-10-31 18-13-52.514 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-13-52.514 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.515 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-13-52.515 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-13-52.519 -07:00 [ERR] Connection ID "17942340921349636153", Request ID "8000003a-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-52.522 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1698.1341ms
][2023-10-31 18-13-52.535 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 18-13-52.535 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.538 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 2.5219ms
][2023-10-31 18-13-52.538 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 18-13-52.538 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.539 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.6764ms
][2023-10-31 18-13-52.544 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 18-13-52.544 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 18-13-52.544 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.544 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.544 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-13-52.544 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-13-52.544 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-13-52.545 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-13-52.567 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-13-52.567 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-13-52.568 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 52.8888ms
][2023-10-31 18-13-52.568 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-13-52.572 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 53 ms
][2023-10-31 18-13-52.573 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-13-52.574 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-13-52.637 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-13-52.637 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-13-52.917 -07:00 [INF] Executed DbCommand (361ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 18-13-52.919 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-13-52.949 -07:00 [INF] Executed DbCommand (358ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 18-13-52.951 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 406.9159ms
][2023-10-31 18-13-52.952 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-13-52.952 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 18-13-52.965 -07:00 [INF] Executed DbCommand (100ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-13-52.965 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 420.2966ms
][2023-10-31 18-13-52.965 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-13-52.970 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 407 ms
][2023-10-31 18-13-52.975 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 421 ms
][2023-10-31 18-13-52.980 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-53.308 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-13-53.457 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-53.459 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 760.1962ms
][2023-10-31 18-13-53.459 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-13-53.463 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 884 ms
][2023-10-31 18-13-53.464 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-53.525 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-53.659 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-53.761 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-53.763 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-53.767 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-13-53.770 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-53.770 -07:00 [ERR] Connection ID "18230571293206380629", Request ID "80000056-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-53.792 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-53.827 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1313.8986ms
][2023-10-31 18-13-53.834 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-13-53.835 -07:00 [ERR] Connection ID "18302628895834243182", Request ID "8000006f-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-53.840 -07:00 [ERR] Connection ID "17870283327311708227", Request ID "80000044-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-53.843 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1299.3186ms
][2023-10-31 18-13-53.842 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1298.4482ms
][2023-10-31 18-13-53.847 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-13-53.855 -07:00 [ERR] Connection ID "17870283335901642787", Request ID "80000024-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-13-53.856 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1283.2005ms
][2023-10-31 18-15-23.056 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Sponsor/list-ads - 0
][2023-10-31 18-15-23.056 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-23.057 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Sponsor/list-ads - 0 - 204 - - 0.2967ms
][2023-10-31 18-15-23.060 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Sponsor/list-ads - -
][2023-10-31 18-15-23.060 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-23.061 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API)'
][2023-10-31 18-15-23.061 -07:00 [INF] Route matched with {action = "ListAds", controller = "Sponsor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ListAds() on controller Napredne_baze_podataka_API.Controllers.SponsorController (Napredne baze podataka API).
][2023-10-31 18-15-23.106 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[IsMain], [a].[PublicId], [a].[SponsorId], [a].[Title], [a].[Url]
FROM [Advertisements] AS [a]
][2023-10-31 18-15-23.106 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.Models.Advertisement, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-15-23.107 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API) in 46.1069ms
][2023-10-31 18-15-23.107 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.SponsorController.ListAds (Napredne baze podataka API)'
][2023-10-31 18-15-23.109 -07:00 [INF] Request GET /api/Sponsor/list-ads completed in 46 ms
][2023-10-31 18-15-23.332 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-23.452 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-23.455 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-23.460 -07:00 [ERR] Connection ID "17942340917054668921", Request ID "8000007a-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-23.461 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Sponsor/list-ads - - - 200 - application/json;+charset=utf-8 400.7262ms
][2023-10-31 18-15-24.140 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 18-15-24.140 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.140 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3435ms
][2023-10-31 18-15-24.151 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 18-15-24.151 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 18-15-24.152 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.152 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.152 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-15-24.152 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-15-24.165 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 18-15-24.165 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.165 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.4365ms
][2023-10-31 18-15-24.173 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 21.8961ms
][2023-10-31 18-15-24.173 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 18-15-24.173 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.173 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 18-15-24.174 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.5383ms
][2023-10-31 18-15-24.174 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.175 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-15-24.175 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-15-24.186 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 18-15-24.186 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.187 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-15-24.188 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-15-24.188 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-15-24.188 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-24.188 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-15-24.188 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-15-24.204 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-15-24.206 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-15-24.207 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 54.6888ms
][2023-10-31 18-15-24.207 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-15-24.212 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 55 ms
][2023-10-31 18-15-24.624 -07:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-15-24.628 -07:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-15-24.628 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-15-24.629 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 453.5449ms
][2023-10-31 18-15-24.629 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-15-24.629 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-15-24.633 -07:00 [INF] Request GET /api/Member/trainers completed in 454 ms
][2023-10-31 18-15-24.679 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-24.680 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 492.1755ms
][2023-10-31 18-15-24.730 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-15-24.861 -07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-15-24.912 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 18-15-24.913 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 725.2272ms
][2023-10-31 18-15-24.913 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-15-24.915 -07:00 [INF] Request GET /api/Manager/trainers completed in 542 ms
][2023-10-31 18-15-24.917 -07:00 [INF] Request GET /api/Member/member/1 completed in 726 ms
][2023-10-31 18-15-24.962 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-25.017 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-25.019 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-25.463 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-25.471 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-25.471 -07:00 [ERR] Connection ID "17870283327311708233", Request ID "8000004a-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-25.635 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1484.0160ms
][2023-10-31 18-15-25.635 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-25.700 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-25.767 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-25.767 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-25.772 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-25.772 -07:00 [ERR] Connection ID "17942340917054668925", Request ID "8000007e-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-25.775 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-25.777 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1602.3165ms
][2023-10-31 18-15-25.790 -07:00 [ERR] Connection ID "18374686489872171064", Request ID "80000039-0002-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-25.791 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-15-25.791 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.791 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1605.9421ms
][2023-10-31 18-15-25.792 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 1.6097ms
][2023-10-31 18-15-25.792 -07:00 [ERR] Connection ID "18302628895834243186", Request ID "80000073-0002-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-25.793 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1605.3022ms
][2023-10-31 18-15-25.794 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-15-25.794 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.795 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.3910ms
][2023-10-31 18-15-25.803 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 18-15-25.803 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.803 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-15-25.805 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.805 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 2.0977ms
][2023-10-31 18-15-25.805 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-15-25.805 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-15-25.822 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 18-15-25.822 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 18-15-25.822 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.822 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.822 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-15-25.822 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-15-25.824 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 2.5404ms
][2023-10-31 18-15-25.842 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 18-15-25.842 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.843 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-15-25.843 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-15-25.858 -07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-15-25.859 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-15-25.860 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 54.7236ms
][2023-10-31 18-15-25.860 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-15-25.866 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 55 ms
][2023-10-31 18-15-25.866 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-15-25.867 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-25.869 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-15-25.869 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-15-25.938 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 18-15-25.940 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-15-25.942 -07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 18-15-25.942 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 119.9127ms
][2023-10-31 18-15-25.942 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-15-25.943 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 18-15-26.010 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 120 ms
][2023-10-31 18-15-26.012 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 168.6229ms
][2023-10-31 18-15-26.012 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-15-26.113 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 169 ms
][2023-10-31 18-15-26.602 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-26.604 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-26.605 -07:00 [INF] Executed DbCommand (662ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-15-26.680 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-15-26.865 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 995.6569ms
][2023-10-31 18-15-26.865 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-15-26.867 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-26.869 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 998 ms
][2023-10-31 18-15-27.065 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-27.185 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-27.185 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-27.277 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-27.283 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-27.285 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-27.289 -07:00 [ERR] Connection ID "18230571293206380631", Request ID "80000058-0000-fd00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-27.290 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1467.8445ms
][2023-10-31 18-15-27.388 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-27.462 -07:00 [ERR] Connection ID "17942340917054668927", Request ID "80000080-0000-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-27.465 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1661.9081ms
][2023-10-31 18-15-27.465 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-27.474 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-27.474 -07:00 [ERR] Connection ID "17942340921349636161", Request ID "80000042-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-27.476 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1633.6446ms
][2023-10-31 18-15-27.481 -07:00 [ERR] Connection ID "18014398519682531341", Request ID "8000000e-0002-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-27.482 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1615.2114ms
][2023-10-31 18-15-28.616 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-15-28.617 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-15-28.619 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-15-28.620 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-15-28.665 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-15-28.666 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-15-28.668 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 48.4045ms
][2023-10-31 18-15-28.668 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-15-28.671 -07:00 [INF] Request GET /api/Manager/trainers completed in 52 ms
][2023-10-31 18-15-28.862 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-15-29.012 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-15-29.015 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-15-29.022 -07:00 [ERR] Connection ID "17870283335901642789", Request ID "80000026-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-15-29.022 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 405.7549ms
][2023-10-31 18-17-15.922 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 18-17-15.922 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 18-17-15.923 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.923 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.923 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.5390ms
][2023-10-31 18-17-15.923 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 18-17-15.923 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.923 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.1769ms
][2023-10-31 18-17-15.923 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 18-17-15.924 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.924 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.6136ms
][2023-10-31 18-17-15.927 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 2.9297ms
][2023-10-31 18-17-15.936 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 18-17-15.936 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 18-17-15.936 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.936 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-15.936 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-15.937 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.937 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-17-15.937 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-15.956 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 18-17-15.957 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.958 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-17-15.960 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-17-15.960 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-15.960 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-15.961 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-15.961 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-17-15.983 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-17-15.985 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-17-15.985 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 48.9468ms
][2023-10-31 18-17-15.985 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-15.988 -07:00 [INF] Request GET /api/Member/trainers completed in 49 ms
][2023-10-31 18-17-16.223 -07:00 [INF] Executed DbCommand (110ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-17-16.225 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 18-17-16.309 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 348.6659ms
][2023-10-31 18-17-16.309 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-17-16.311 -07:00 [INF] Executed DbCommand (129ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-17-16.313 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-17-16.316 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 378.3367ms
][2023-10-31 18-17-16.316 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-17-16.316 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-16.317 -07:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-17-16.416 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 379 ms
][2023-10-31 18-17-16.418 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-17-16.699 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 737.7846ms
][2023-10-31 18-17-16.699 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-16.703 -07:00 [INF] Request GET /api/Member/member/1 completed in 352 ms
][2023-10-31 18-17-16.804 -07:00 [INF] Request GET /api/Manager/trainers completed in 738 ms
][2023-10-31 18-17-17.336 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-17.454 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-17.486 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-17.489 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-17.490 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-17.864 -07:00 [ERR] Connection ID "18014398511092596750", Request ID "8000000f-0000-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-17.947 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2011.2234ms
][2023-10-31 18-17-17.954 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-17.967 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-17.970 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-17-17.970 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-17.970 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.6531ms
][2023-10-31 18-17-17.970 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-17-17.971 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-17.971 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.5631ms
][2023-10-31 18-17-17.971 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0
][2023-10-31 18-17-17.971 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-17.972 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0 - 204 - - 0.5216ms
][2023-10-31 18-17-17.977 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-17.978 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-17-17.978 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-17.979 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-17.979 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-17.980 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-17.989 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-17.990 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - -
][2023-10-31 18-17-17.991 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-17.993 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-17.993 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-17.995 -07:00 [ERR] Connection ID "18086456105130524728", Request ID "80000039-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-17.997 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2060.6462ms
][2023-10-31 18-17-17.997 -07:00 [ERR] Connection ID "17726168134940884993", Request ID "80000002-0000-f600-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-17.997 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0
][2023-10-31 18-17-18.000 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2042.0077ms
][2023-10-31 18-17-18.000 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-18.001 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0 - 204 - - 3.9123ms
][2023-10-31 18-17-18.008 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-18.015 -07:00 [ERR] Connection ID "17798225728978812929", Request ID "80000002-0000-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-18.016 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2060.7732ms
][2023-10-31 18-17-18.024 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 18-17-18.024 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-18.024 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.5650ms
][2023-10-31 18-17-18.030 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 18-17-18.030 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-18.031 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 1.5219ms
][2023-10-31 18-17-18.031 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 18-17-18.032 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-18.035 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-17-18.035 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-18.035 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 18-17-18.035 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-18.036 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-17-18.036 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-18.040 -07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-17-18.042 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-17-18.047 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 64.4691ms
][2023-10-31 18-17-18.047 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-18.049 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-17-18.049 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-18.085 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-18.085 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-18.085 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 68 ms
][2023-10-31 18-17-18.278 -07:00 [INF] Executed DbCommand (187ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-17-18.287 -07:00 [INF] Executed DbCommand (147ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 18-17-18.289 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-17-18.295 -07:00 [INF] Executed DbCommand (250ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 18-17-18.295 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 18-17-18.296 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 261.2706ms
][2023-10-31 18-17-18.297 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-17-18.297 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 18-17-18.309 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 273.2234ms
][2023-10-31 18-17-18.309 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-17-18.313 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 265 ms
][2023-10-31 18-17-18.393 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 274 ms
][2023-10-31 18-17-18.847 -07:00 [INF] Executed DbCommand (512ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-17-18.917 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-17-18.948 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 862.8208ms
][2023-10-31 18-17-18.948 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-19.077 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-19.238 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-19.241 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 898 ms
][2023-10-31 18-17-19.769 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-20.031 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-20.035 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-20.038 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 2044.5827ms
][2023-10-31 18-17-20.038 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-20.040 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-20.041 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-20.045 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-20.100 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-20.164 -07:00 [ERR] Connection ID "17798225728978812933", Request ID "80000006-0000-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-20.168 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 2136.8364ms
][2023-10-31 18-17-20.169 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-20.345 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-20.347 -07:00 [INF] Request GET /api/Member/average-rating/2 completed in 2349 ms
][2023-10-31 18-17-20.348 -07:00 [ERR] Connection ID "17942340921349636165", Request ID "80000046-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-20.351 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-20.449 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 2373.1881ms
][2023-10-31 18-17-20.643 -07:00 [ERR] Connection ID "18086456113720459334", Request ID "80000047-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-20.756 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 2720.3574ms
][2023-10-31 18-17-20.770 -07:00 [ERR] Connection ID "17870283327311708237", Request ID "8000004e-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-20.773 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 2723.5016ms
][2023-10-31 18-17-20.791 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-20.797 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - - - 500 - application/json 2806.7168ms
][2023-10-31 18-17-20.812 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - -
][2023-10-31 18-17-20.813 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-20.813 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-20.813 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-17-20.857 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-17-20.861 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 18-17-21.079 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 265.6911ms
][2023-10-31 18-17-21.080 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-17-21.249 -07:00 [INF] Request GET /api/Member/average-rating/2 completed in 433 ms
][2023-10-31 18-17-21.648 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-21.651 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - - - 500 - application/json 838.2555ms
][2023-10-31 18-17-22.265 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 18-17-22.265 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-22.265 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.3514ms
][2023-10-31 18-17-22.269 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-17-22.269 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-22.269 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-22.269 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-17-22.313 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-17-22.315 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-17-22.315 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 45.8875ms
][2023-10-31 18-17-22.315 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-22.319 -07:00 [INF] Request GET /api/Manager/trainers completed in 46 ms
][2023-10-31 18-17-22.605 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-22.746 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-22.750 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-22.755 -07:00 [ERR] Connection ID "17870283335901642795", Request ID "8000002c-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-22.756 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 487.1014ms
][2023-10-31 18-17-23.587 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-17-23.587 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-23.588 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-23.588 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-17-23.633 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-17-23.634 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-17-23.634 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 46.2748ms
][2023-10-31 18-17-23.634 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-23.637 -07:00 [INF] Request GET /api/Manager/trainers completed in 46 ms
][2023-10-31 18-17-23.947 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-24.097 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-24.101 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-24.106 -07:00 [ERR] Connection ID "18158513699168452720", Request ID "80000071-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-24.107 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 519.5668ms
][2023-10-31 18-17-27.520 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 18-17-27.520 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-27.521 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.6485ms
][2023-10-31 18-17-27.526 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-17-27.526 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-27.527 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-27.527 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-17-27.571 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-17-27.572 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-17-27.573 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 46.1691ms
][2023-10-31 18-17-27.573 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-27.578 -07:00 [INF] Request GET /api/Manager/trainers completed in 46 ms
][2023-10-31 18-17-27.785 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-27.896 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-27.900 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-27.906 -07:00 [ERR] Connection ID "17870283327311708241", Request ID "80000052-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-27.907 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 380.8219ms
][2023-10-31 18-17-41.920 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 18-17-41.920 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-41.920 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3828ms
][2023-10-31 18-17-41.925 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-17-41.925 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-17-41.926 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-41.926 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-17-41.970 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-17-41.971 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-17-41.974 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 47.6165ms
][2023-10-31 18-17-41.975 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-17-41.979 -07:00 [INF] Request GET /api/Manager/trainers completed in 49 ms
][2023-10-31 18-17-42.174 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-17-42.282 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-17-42.287 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-17-42.293 -07:00 [ERR] Connection ID "17870283335901642797", Request ID "8000002e-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-17-42.293 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 368.1001ms
][2023-10-31 18-18-13.125 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 18-18-13.125 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-13.125 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.3775ms
][2023-10-31 18-18-13.129 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-18-13.129 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-13.129 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-13.129 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-18-13.179 -07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-13.181 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-13.181 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 51.573ms
][2023-10-31 18-18-13.181 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-13.183 -07:00 [INF] Request GET /api/Manager/trainers completed in 52 ms
][2023-10-31 18-18-13.373 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-13.473 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-13.476 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-13.481 -07:00 [ERR] Connection ID "18086456113720459340", Request ID "8000004d-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-13.482 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 352.7018ms
][2023-10-31 18-18-31.327 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 18-18-31.327 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.327 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.4158ms
][2023-10-31 18-18-31.331 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 18-18-31.332 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.332 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-31.332 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-31.335 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 18-18-31.335 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.338 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 3.1845ms
][2023-10-31 18-18-31.341 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 18-18-31.341 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.341 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.4886ms
][2023-10-31 18-18-31.342 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 18-18-31.342 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.342 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-31.342 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-31.347 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 18-18-31.347 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 18-18-31.347 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.347 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.348 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3433ms
][2023-10-31 18-18-31.348 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-31.348 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-31.352 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-18-31.352 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-31.353 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-31.353 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-18-31.472 -07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-31.473 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-18-31.473 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 141.0239ms
][2023-10-31 18-18-31.473 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-31.475 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 141 ms
][2023-10-31 18-18-31.608 -07:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-31.669 -07:00 [INF] Executed DbCommand (189ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-31.671 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 18-18-31.748 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 399.9777ms
][2023-10-31 18-18-31.748 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-31.748 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-31.751 -07:00 [INF] Executed DbCommand (194ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-31.751 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-31.753 -07:00 [INF] Request GET /api/Member/member/1 completed in 400 ms
][2023-10-31 18-18-31.754 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 412.2027ms
][2023-10-31 18-18-31.755 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-31.822 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-31.822 -07:00 [INF] Request GET /api/Member/trainers completed in 412 ms
][2023-10-31 18-18-31.823 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 470.1213ms
][2023-10-31 18-18-31.824 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-32.034 -07:00 [INF] Request GET /api/Manager/trainers completed in 472 ms
][2023-10-31 18-18-32.749 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-32.849 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-32.851 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-32.946 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-33.236 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-33.429 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-33.429 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-33.433 -07:00 [ERR] Connection ID "17870283327311708243", Request ID "80000054-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-33.435 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 2103.7885ms
][2023-10-31 18-18-33.435 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-33.440 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-33.443 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-33.445 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-33.454 -07:00 [ERR] Connection ID "17870283335901642801", Request ID "80000032-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-33.455 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 2107.5534ms
][2023-10-31 18-18-33.455 -07:00 [ERR] Connection ID "17798225741863714841", Request ID "8000001a-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-33.456 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2104.3548ms
][2023-10-31 18-18-33.460 -07:00 [ERR] Connection ID "18086456113720459342", Request ID "8000004f-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-33.460 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2118.8846ms
][2023-10-31 18-18-33.480 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 18-18-33.480 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.480 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 0.3675ms
][2023-10-31 18-18-33.485 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 18-18-33.485 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 18-18-33.485 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.485 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.485 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 0.3517ms
][2023-10-31 18-18-33.485 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-18-33.486 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-33.492 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 18-18-33.492 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.493 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-33.493 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-33.524 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-18-33.524 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.525 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.4558ms
][2023-10-31 18-18-33.530 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 18-18-33.530 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-18-33.530 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-18-33.530 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.531 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-18-33.531 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.531 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.4603ms
][2023-10-31 18-18-33.531 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 45.1652ms
][2023-10-31 18-18-33.531 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-18-33.533 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-33.533 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-33.534 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 45 ms
][2023-10-31 18-18-33.604 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0
][2023-10-31 18-18-33.604 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0
][2023-10-31 18-18-33.604 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.604 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.691 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0 - 204 - - 87.6280ms
][2023-10-31 18-18-33.693 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0 - 204 - - 88.0991ms
][2023-10-31 18-18-33.693 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - -
][2023-10-31 18-18-33.693 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-33.694 -07:00 [INF] Executed DbCommand (197ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 18-18-33.694 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-33.695 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-33.695 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 18-18-33.887 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 393.9935ms
][2023-10-31 18-18-33.887 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-33.891 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 395 ms
][2023-10-31 18-18-33.964 -07:00 [INF] Executed DbCommand (201ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-34.060 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-18-34.063 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 528.6819ms
][2023-10-31 18-18-34.063 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-34.138 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-34.140 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 532 ms
][2023-10-31 18-18-34.630 -07:00 [INF] Executed DbCommand (609ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-34.633 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-34.766 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-34.771 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 18-18-34.840 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-34.944 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-34.974 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-35.221 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-35.374 -07:00 [ERR] Connection ID "17798225728978812935", Request ID "80000008-0000-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-35.377 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-35.377 -07:00 [ERR] Connection ID "18086456113720459346", Request ID "80000053-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-35.377 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1891.6454ms
][2023-10-31 18-18-35.380 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1888.0680ms
][2023-10-31 18-18-35.380 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-18-35.381 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-35.380 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-35.381 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-35.381 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-35.382 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1687.0562ms
][2023-10-31 18-18-35.383 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-35.574 -07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-35.576 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-18-35.578 -07:00 [ERR] Connection ID "18014398511092596754", Request ID "80000013-0000-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-35.579 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 2048.2565ms
][2023-10-31 18-18-35.581 -07:00 [INF] Request GET /api/Member/average-rating/2 completed in 1879 ms
][2023-10-31 18-18-35.581 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 199.7984ms
][2023-10-31 18-18-35.582 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-35.677 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 201 ms
][2023-10-31 18-18-36.500 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-36.813 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-36.917 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-36.922 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-36.924 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - - - 500 - application/json 3230.8504ms
][2023-10-31 18-18-36.935 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - -
][2023-10-31 18-18-36.936 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-36.936 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-36.936 -07:00 [ERR] Connection ID "18014398519682531351", Request ID "80000018-0002-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-36.936 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-36.938 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1557.1213ms
][2023-10-31 18-18-36.988 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-36.993 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 18-18-37.290 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 353.0234ms
][2023-10-31 18-18-37.291 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-37.532 -07:00 [INF] Request GET /api/Member/average-rating/2 completed in 575 ms
][2023-10-31 18-18-38.107 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-38.111 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - - - 500 - application/json 1175.6298ms
][2023-10-31 18-18-41.343 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 18-18-41.343 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.343 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.3598ms
][2023-10-31 18-18-41.347 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 18-18-41.347 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.347 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-41.347 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-41.357 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 18-18-41.357 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 18-18-41.357 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.357 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 18-18-41.357 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.357 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.357 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3267ms
][2023-10-31 18-18-41.357 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.4822ms
][2023-10-31 18-18-41.357 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.4985ms
][2023-10-31 18-18-41.363 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 18-18-41.363 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 18-18-41.363 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-18-41.363 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.363 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.363 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-41.364 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-41.364 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-41.364 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-41.364 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-18-41.364 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-41.364 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-41.393 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-41.394 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-18-41.395 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 47.3405ms
][2023-10-31 18-18-41.395 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-41.398 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 47 ms
][2023-10-31 18-18-41.568 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-41.640 -07:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-41.718 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-41.718 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-41.720 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 355.1599ms
][2023-10-31 18-18-41.720 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-41.722 -07:00 [INF] Executed DbCommand (118ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-41.724 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 18-18-41.726 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 362.6552ms
][2023-10-31 18-18-41.727 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-41.726 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 362.6242ms
][2023-10-31 18-18-41.728 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-41.728 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-41.729 -07:00 [INF] Request GET /api/Member/trainers completed in 357 ms
][2023-10-31 18-18-41.733 -07:00 [INF] Request GET /api/Manager/trainers completed in 363 ms
][2023-10-31 18-18-41.817 -07:00 [INF] Request GET /api/Member/member/1 completed in 367 ms
][2023-10-31 18-18-42.845 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-43.515 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-43.583 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-43.826 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-44.321 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-44.445 -07:00 [ERR] Connection ID "18014398511092596760", Request ID "80000019-0000-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-44.446 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 3099.3794ms
][2023-10-31 18-18-44.446 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 18-18-44.446 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-44.447 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-44.447 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-44.753 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-44.885 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-44.922 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-44.955 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-45.109 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-45.472 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-45.480 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-18-45.480 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-45.481 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-45.481 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-18-45.483 -07:00 [ERR] Connection ID "18158513699168452732", Request ID "8000007d-0000-fc00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-45.484 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 4120.7828ms
][2023-10-31 18-18-45.485 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 18-18-45.485 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-45.485 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-45.485 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-45.492 -07:00 [ERR] Connection ID "17798225728978812939", Request ID "8000000c-0000-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-45.498 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 18-18-45.497 -07:00 [ERR] Connection ID "17726168134940884997", Request ID "80000006-0000-f600-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-45.499 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-45.500 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 4136.9851ms
][2023-10-31 18-18-45.500 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-45.501 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-45.501 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 4137.3351ms
][2023-10-31 18-18-45.527 -07:00 [INF] Executed DbCommand (1,050ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-45.529 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-18-45.534 -07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-45.534 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 1087.5052ms
][2023-10-31 18-18-45.534 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-45.538 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-45.541 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-45.542 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 61.0952ms
][2023-10-31 18-18-45.542 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-45.542 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-45.544 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 58.1521ms
][2023-10-31 18-18-45.544 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-45.545 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 1088 ms
][2023-10-31 18-18-45.610 -07:00 [INF] Request GET /api/Member/trainers completed in 59 ms
][2023-10-31 18-18-45.696 -07:00 [INF] Request GET /api/Manager/trainers completed in 61 ms
][2023-10-31 18-18-46.758 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-47.183 -07:00 [INF] Executed DbCommand (1,658ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-47.183 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-47.185 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 18-18-47.335 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-47.336 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 1835.0757ms
][2023-10-31 18-18-47.336 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-47.442 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-47.443 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-47.446 -07:00 [INF] Request GET /api/Member/member/1 completed in 1835 ms
][2023-10-31 18-18-47.890 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-48.067 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-48.070 -07:00 [ERR] Connection ID "17798225741863714843", Request ID "8000001c-0003-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-48.071 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 2586.4183ms
][2023-10-31 18-18-48.072 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0
][2023-10-31 18-18-48.072 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.072 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - 0 - 204 - - 0.3530ms
][2023-10-31 18-18-48.072 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0
][2023-10-31 18-18-48.072 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.072 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/trainers - 0 - 204 - - 0.3263ms
][2023-10-31 18-18-48.073 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0
][2023-10-31 18-18-48.073 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.074 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/member/1 - 0 - 204 - - 0.5771ms
][2023-10-31 18-18-48.085 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-48.092 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-48.093 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-48.175 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0
][2023-10-31 18-18-48.175 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - -
][2023-10-31 18-18-48.175 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.175 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.175 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/check-selected-trainer/1 - 0 - 204 - - 0.6156ms
][2023-10-31 18-18-48.175 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-48.176 -07:00 [INF] Route matched with {action = "GetMember", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMember(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-48.292 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/trainers - -
][2023-10-31 18-18-48.292 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - -
][2023-10-31 18-18-48.292 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.292 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.292 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-48.292 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-18-48.292 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-48.293 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync() on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-48.297 -07:00 [ERR] Connection ID "18014398519682531353", Request ID "8000001a-0002-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-48.303 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 3856.1674ms
][2023-10-31 18-18-48.312 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - -
][2023-10-31 18-18-48.313 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-48.314 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-48.314 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-48.316 -07:00 [INF] Route matched with {action = "CheckSelectedTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSelectedTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-48.324 -07:00 [ERR] Connection ID "18086456105130524730", Request ID "8000003b-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-48.327 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 2846.9770ms
][2023-10-31 18-18-48.332 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-48.335 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-48.338 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.Member'.
][2023-10-31 18-18-48.341 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API) in 163.7753ms
][2023-10-31 18-18-48.342 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMember (Napredne baze podataka API)'
][2023-10-31 18-18-48.343 -07:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-48.345 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Napredne_baze_podataka_API.DTOs.TrainerDto, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-48.346 -07:00 [INF] Request GET /api/Member/member/1 completed in 166 ms
][2023-10-31 18-18-48.349 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API) in 56.0131ms
][2023-10-31 18-18-48.349 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-48.427 -07:00 [INF] Request GET /api/Member/trainers completed in 56 ms
][2023-10-31 18-18-48.586 -07:00 [ERR] Connection ID "17870283335901642803", Request ID "80000034-0003-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-48.757 -07:00 [INF] Executed DbCommand (134ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-48.844 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 3344.9184ms
][2023-10-31 18-18-48.908 -07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[ID], [m].[AccessToken], [m].[BirthDate], [m].[Email], [m].[FirstName], [m].[LastName], [m].[Password], [m].[PhoneNumber], [m].[RefreshToken], [m].[RegistrationDate], [m].[Role], [m].[SelectedTrainerId], [m].[UserName]
FROM [Members] AS [m]
WHERE [m].[ID] = @__p_0
][2023-10-31 18-18-48.909 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-48.909 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-18-48.999 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 706.9871ms
][2023-10-31 18-18-49.000 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-48.999 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API) in 683.1958ms
][2023-10-31 18-18-49.000 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckSelectedTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-49.004 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-49.005 -07:00 [INF] Request GET /api/Manager/trainers completed in 707 ms
][2023-10-31 18-18-49.126 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-49.126 -07:00 [INF] Request GET /api/Member/check-selected-trainer/1 completed in 687 ms
][2023-10-31 18-18-49.573 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-49.723 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-49.793 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-49.874 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-49.876 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-49.941 -07:00 [ERR] Connection ID "18014398515387564127", Request ID "80000060-0001-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-50.053 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-50.053 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/member/1 - - - 200 - application/json;+charset=utf-8 1878.1605ms
][2023-10-31 18-18-50.057 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-50.124 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0
][2023-10-31 18-18-50.124 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0
][2023-10-31 18-18-50.126 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.197 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.198 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/1/check-rating/1 - 0 - 204 - - 73.1432ms
][2023-10-31 18-18-50.198 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/mytrainer/1 - 0 - 204 - - 73.2903ms
][2023-10-31 18-18-50.198 -07:00 [ERR] Connection ID "17942340921349636171", Request ID "8000004c-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-50.200 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/trainers - - - 200 - application/json;+charset=utf-8 1908.3488ms
][2023-10-31 18-18-50.200 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-50.238 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-18-50.238 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.238 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - -
][2023-10-31 18-18-50.238 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.238 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.5735ms
][2023-10-31 18-18-50.239 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-18-50.239 -07:00 [INF] Route matched with {action = "CheckRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckRating(Int32, Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-50.245 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0
][2023-10-31 18-18-50.245 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.245 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/1 - 0 - 204 - - 0.6989ms
][2023-10-31 18-18-50.260 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-50.260 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - -
][2023-10-31 18-18-50.261 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.262 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0
][2023-10-31 18-18-50.262 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-50.262 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0
][2023-10-31 18-18-50.262 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.262 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.262 -07:00 [INF] Route matched with {action = "GetMyTrainer", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyTrainer(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-50.262 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0 - 204 - - 0.3350ms
][2023-10-31 18-18-50.262 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Member/average-rating/2 - 0 - 204 - - 0.4684ms
][2023-10-31 18-18-50.270 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-50.272 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-18-50.275 -07:00 [ERR] Connection ID "17870283327311708249", Request ID "8000005a-0001-f800-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-50.275 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.277 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=firstName&filters= - - - 200 - application/json;+charset=utf-8 1985.3717ms
][2023-10-31 18-18-50.277 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-50.278 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-50.275 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - -
][2023-10-31 18-18-50.278 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.278 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-50.278 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-50.300 -07:00 [ERR] Connection ID "18374686485577203784", Request ID "80000049-0001-ff00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-50.302 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/check-selected-trainer/1 - - - 200 - application/json;+charset=utf-8 1989.1737ms
][2023-10-31 18-18-50.308 -07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__memberId_0='?' (DbType = Int32), @__trainerId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[MemberId], [r].[TrainerId], [r].[Value]
FROM [Ratings] AS [r]
WHERE [r].[MemberId] = @__memberId_0 AND [r].[TrainerId] = @__trainerId_1
][2023-10-31 18-18-50.310 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
][2023-10-31 18-18-50.311 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API) in 72.0713ms
][2023-10-31 18-18-50.311 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.CheckRating (Napredne baze podataka API)'
][2023-10-31 18-18-50.314 -07:00 [INF] Request GET /api/Member/1/check-rating/1 completed in 73 ms
][2023-10-31 18-18-50.373 -07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
WHERE [t].[ID] = @__p_0
][2023-10-31 18-18-50.436 -07:00 [INF] Executing OkObjectResult, writing value of type 'Napredne_baze_podataka_API.Models.TrainerUser'.
][2023-10-31 18-18-50.440 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API) in 177.7595ms
][2023-10-31 18-18-50.440 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-50.440 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetMyTrainer (Napredne baze podataka API)'
][2023-10-31 18-18-50.441 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-18-50.441 -07:00 [INF] Executed DbCommand (95ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-50.497 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 219.357ms
][2023-10-31 18-18-50.497 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-50.501 -07:00 [INF] Request GET /api/Member/mytrainer/1 completed in 178 ms
][2023-10-31 18-18-50.572 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - -
][2023-10-31 18-18-50.572 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-50.574 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-50.574 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-50.631 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 222 ms
][2023-10-31 18-18-50.631 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 18-18-50.765 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-51.131 -07:00 [INF] Executed DbCommand (189ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-51.321 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Double'.
][2023-10-31 18-18-51.357 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 782.6654ms
][2023-10-31 18-18-51.358 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-51.400 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-51.401 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-51.556 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-51.646 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-51.710 -07:00 [INF] Request GET /api/Member/average-rating/1 completed in 1069 ms
][2023-10-31 18-18-51.742 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-51.760 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 1482.2708ms
][2023-10-31 18-18-51.762 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-51.762 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-51.782 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-51.783 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-51.800 -07:00 [ERR] Connection ID "17798225733273780225", Request ID "80000002-0001-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-51.802 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/1/check-rating/1 - - - 200 - application/json;+charset=utf-8 1563.7250ms
][2023-10-31 18-18-51.808 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-51.921 -07:00 [ERR] Connection ID "17942340921349636173", Request ID "8000004e-0001-f900-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-52.005 -07:00 [ERR] Connection ID "18086456105130524734", Request ID "8000003f-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-52.005 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/mytrainer/1 - - - 200 - application/json;+charset=utf-8 1745.5081ms
][2023-10-31 18-18-52.006 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1733.9238ms
][2023-10-31 18-18-52.010 -07:00 [INF] Request GET /api/Member/average-rating/2 completed in 1725 ms
][2023-10-31 18-18-52.214 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-52.400 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-52.408 -07:00 [ERR] Connection ID "18086456113720459348", Request ID "80000055-0002-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-52.409 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/1 - - - 200 - application/json;+charset=utf-8 1836.9222ms
][2023-10-31 18-18-52.425 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-52.429 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - - - 500 - application/json 2154.3305ms
][2023-10-31 18-18-52.439 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - -
][2023-10-31 18-18-52.439 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-52.439 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-52.439 -07:00 [INF] Route matched with {action = "GetAverageRating", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating(Int32) on controller Napredne_baze_podataka_API.Controllers.MemberController (Napredne baze podataka API).
][2023-10-31 18-18-52.482 -07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__trainerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG(CAST([r].[Value] AS float))
FROM [Ratings] AS [r]
WHERE [r].[TrainerId] = @__trainerId_0
][2023-10-31 18-18-52.488 -07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Napredne_baze_podataka_API.Data.DataContext'.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
][2023-10-31 18-18-52.709 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API) in 269.849ms
][2023-10-31 18-18-52.710 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating (Napredne baze podataka API)'
][2023-10-31 18-18-52.878 -07:00 [INF] Request GET /api/Member/average-rating/2 completed in 436 ms
][2023-10-31 18-18-53.239 -07:00 [ERR] Sequence contains no elements.
System.InvalidOperationException: Sequence contains no elements.
   at lambda_method446(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Napredne_baze_podataka_API.Data.Repo.MemberRepository.GetAverageRatingByTrainerId(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Data\Repo\MemberRepository.cs:line 133
   at Napredne_baze_podataka_API.Mediator_Pattern.Handlers.Member_Handlers.GetAverageRatingHandler.Handle(GetAverageRating request, CancellationToken cancellationToken) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Mediator Pattern\Handlers\Member Handlers\GetAverageRatingHandler.cs:line 17
   at Napredne_baze_podataka_API.Controllers.MemberController.GetAverageRating(Int32 trainerId) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Controllers\MemberController.cs:line 94
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Napredne_baze_podataka_API.Middleware.RequestLoggingMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\RequestLoggingMiddleware.cs:line 27
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 22
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-53.242 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Member/average-rating/2 - - - 500 - application/json 803.2965ms
][2023-10-31 18-18-56.377 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 18-18-56.377 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-56.378 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.3075ms
][2023-10-31 18-18-56.381 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-18-56.381 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-18-56.381 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-56.381 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-18-56.425 -07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-18-56.426 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-18-56.427 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 45.4341ms
][2023-10-31 18-18-56.427 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-18-56.430 -07:00 [INF] Request GET /api/Manager/trainers completed in 45 ms
][2023-10-31 18-18-56.700 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-18-56.846 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-18-56.849 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-18-56.854 -07:00 [ERR] Connection ID "18086456105130524740", Request ID "80000045-0000-fb00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-18-56.855 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 474.4539ms
][2023-10-31 18-30-41.225 -07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0
][2023-10-31 18-30-41.225 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-30-41.226 -07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - 0 - 204 - - 0.5118ms
][2023-10-31 18-30-41.229 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-30-41.230 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-30-41.230 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-30-41.230 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-30-41.540 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-30-41.541 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-30-41.542 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 312.0557ms
][2023-10-31 18-30-41.542 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-30-41.545 -07:00 [INF] Request GET /api/Manager/trainers completed in 312 ms
][2023-10-31 18-30-41.756 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-30-41.863 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-30-41.864 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-30-41.864 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-30-41.864 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-30-41.869 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-30-41.875 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-30-41.880 -07:00 [ERR] Connection ID "17726168134940885001", Request ID "8000000a-0000-f600-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-30-41.881 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 651.4441ms
][2023-10-31 18-30-41.924 -07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-30-41.931 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-30-41.932 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 67.4815ms
][2023-10-31 18-30-41.932 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-30-41.941 -07:00 [INF] Request GET /api/Manager/trainers completed in 68 ms
][2023-10-31 18-30-42.153 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-30-42.250 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-30-42.253 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-30-42.259 -07:00 [ERR] Connection ID "17798225728978812941", Request ID "8000000e-0000-f700-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-30-42.259 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 395.8221ms
][2023-10-31 18-30-43.218 -07:00 [INF] Request starting HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - -
][2023-10-31 18-30-43.218 -07:00 [INF] CORS policy execution successful.
][2023-10-31 18-30-43.218 -07:00 [INF] Executing endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-30-43.218 -07:00 [INF] Route matched with {action = "GetAllTrainers", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTrainersAsync(Sieve.Models.SieveModel) on controller Napredne_baze_podataka_API.Controllers.ManagerController (Napredne baze podataka API).
][2023-10-31 18-30-43.266 -07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ID], [t].[AccessToken], [t].[BirthDate], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[PhoneNumber], [t].[RefreshToken], [t].[RegistrationDate], [t].[Role], [t].[Specialization], [t].[UserName]
FROM [Trainers] AS [t]
][2023-10-31 18-30-43.269 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.EnumerableQuery`1[[Napredne_baze_podataka_API.Models.TrainerUser, Napredne baze podataka API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
][2023-10-31 18-30-43.269 -07:00 [INF] Executed action Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API) in 50.8392ms
][2023-10-31 18-30-43.269 -07:00 [INF] Executed endpoint 'Napredne_baze_podataka_API.Controllers.ManagerController.GetAllTrainersAsync (Napredne baze podataka API)'
][2023-10-31 18-30-43.272 -07:00 [INF] Request GET /api/Manager/trainers completed in 51 ms
][2023-10-31 18-30-43.486 -07:00 [ERR] The response headers cannot be modified because the response has already started.
System.InvalidOperationException: The response headers cannot be modified because the response has already started.
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.ThrowIfReadOnly()
   at Microsoft.AspNetCore.HttpSys.Internal.HeaderCollection.set_Item(String key, StringValues value)
   at Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionsMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionsMiddleware.cs:line 59
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 24
][2023-10-31 18-30-43.612 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
][2023-10-31 18-30-43.616 -07:00 [WRN] The response has already started, the error page middleware will not be executed.
][2023-10-31 18-30-43.622 -07:00 [ERR] Connection ID "18014398519682531363", Request ID "80000024-0002-fa00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.ThrowResponseAlreadyStartedException(String name)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value)
   at Napredne_baze_podataka_API.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\Belkisa\source\repos\Napredne baze podataka API\Middlewares\ExceptionMiddleware.cs:line 65
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
][2023-10-31 18-30-43.623 -07:00 [INF] Request finished HTTP/1.1 GET http://localhost:55936/api/Manager/trainers?page=1&pageSize=3&sorts=lastName&filters= - - - 200 - application/json;+charset=utf-8 405.0340ms
]